(self.webpackChunkInstiKit=self.webpackChunkInstiKit||[]).push([[8677],{67541:(t,e,n)=>{"use strict";n.d(e,{Z:()=>i});var s=n(94015),r=n.n(s),a=n(23645),o=n.n(a)()(r());o.push([t.id,".student-info[data-v-4254f25e]{display:block;margin-bottom:10px}.student-info .student-thumb[data-v-4254f25e]{background:#e1e2e3;border-radius:50%;float:left;height:100px;margin-right:20px;overflow:hidden;text-align:center;width:100px}.student-info .student-thumb i[data-v-4254f25e]{font-size:50px;padding-top:25px}.student-info .student-thumb img[data-v-4254f25e]{width:100%}.student-info p[data-v-4254f25e]{margin-bottom:0;min-height:100px;padding-top:10px}.student-info p span[data-v-4254f25e]{display:block}.student-info p span.student-name[data-v-4254f25e]{font-size:120%;font-weight:500}.student-info p span.batch[data-v-4254f25e]{font-size:100%}.student-info p span.other[data-v-4254f25e]{font-size:90%}","",{version:3,sources:["webpack://./resources/js/views/student/login/list.vue"],names:[],mappings:"AA0MA,+BACC,aAAA,CACA,kBAzMD,CA2MI,8CAKI,kBAAA,CADA,iBAAA,CAHA,UAAA,CAEA,YAAA,CAGA,iBAAA,CAEA,eAAA,CADA,iBAAA,CALA,WAnMR,CA0MQ,gDAEI,cAAA,CADA,gBAvMZ,CA0MQ,kDACI,UAxMZ,CA2MI,iCAEI,eAAA,CACA,gBAAA,CAFA,gBAvMR,CA2MQ,sCACI,aAzMZ,CA2MY,mDACI,cAAA,CACA,eAzMhB,CA2MY,4CACI,cAzMhB,CA2MY,4CACI,aAzMhB",sourcesContent:["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.student-info {\n\tdisplay: block;\n\tmargin-bottom: 10px;\n\n    .student-thumb {\n        float: left;\n        width: 100px;\n        height: 100px;\n        border-radius: 50%;\n        background: #e1e2e3;\n        margin-right: 20px;\n        text-align: center;\n        overflow: hidden;\n        i {\n            padding-top: 25px;\n            font-size: 50px;\n        }\n        img {\n            width: 100%;\n        }\n    }\n    p{\n        padding-top: 10px;\n        margin-bottom: 0;\n        min-height: 100px;\n\n        span {\n            display: block;\n\n            &.student-name{\n                font-size: 120%;\n                font-weight: 500;\n            }\n            &.batch{\n                font-size: 100%;\n            }\n            &.other{\n                font-size: 90%;\n            }\n        }\n    }\n}\n"],sourceRoot:""}]);const i=o},27249:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});const s={props:["student","footer"],data:function(){return{userForm:new Form({enable_parent_login:!1,enable_student_login:!1,change_student_password:!0,change_parent_password:!0,student_email:"",student_username:"",parent_email:"",parent_username:"",parent_password:"",parent_password_confirmation:"",student_password:"",student_password_confirmation:""})}},mounted:function(){this.updateLoginForm(this.student)},methods:{submit:function(){var t=this,e=this.$loading.show();this.userForm.patch("/api/student/"+this.student.uuid+"/user/login").then((function(n){toastr.success(n.message),t.userForm.change_student_password=!0,t.userForm.change_parent_password=!0,t.$emit("completed"),e.hide()})).catch((function(t){e.hide(),helper.showErrorMsg(t)}))},updateLoginForm:function(t){this.userForm.enable_student_login=!(!t.user_id||"activated"!=t.user.status),this.userForm.enable_parent_login=!(!t.parent.user_id||"activated"!=t.parent.user.status),this.userForm.student_email=t.user_id?t.user.email:"",this.userForm.student_username=t.user_id?t.user.username:"",this.userForm.parent_email=t.parent.user_id?t.parent.user.email:"",this.userForm.parent_username=t.parent.user_id?t.parent.user.username:""}},watch:{student:function(t){this.updateLoginForm(t)}}};const r=(0,n(51900).Z)(s,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.student.id?n("div",[n("form",{on:{submit:function(e){return e.preventDefault(),t.submit.apply(null,arguments)},keydown:function(e){return t.userForm.errors.clear(e.target.name)}}},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-12 col-sm-6"},[n("div",{staticClass:"form-group"},[n("label",{staticClass:"custom-control custom-checkbox"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.userForm.enable_parent_login,expression:"userForm.enable_parent_login"}],staticClass:"custom-control-input",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.userForm.enable_parent_login)?t._i(t.userForm.enable_parent_login,null)>-1:t.userForm.enable_parent_login},on:{change:function(e){var n=t.userForm.enable_parent_login,s=e.target,r=!!s.checked;if(Array.isArray(n)){var a=t._i(n,null);s.checked?a<0&&t.$set(t.userForm,"enable_parent_login",n.concat([null])):a>-1&&t.$set(t.userForm,"enable_parent_login",n.slice(0,a).concat(n.slice(a+1)))}else t.$set(t.userForm,"enable_parent_login",r)}}}),t._v(" "),n("span",{staticClass:"custom-control-label"},[t._v(t._s(t.trans("student.enable_parent_login")))])])]),t._v(" "),t.userForm.enable_parent_login?[n("div",{staticClass:"form-group"},[n("label",{attrs:{for:""}},[t._v(t._s(t.trans("auth.email")))]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.userForm.parent_email,expression:"userForm.parent_email"}],staticClass:"form-control",attrs:{type:"text",name:"parent_email",placeholder:t.trans("student.parent_email")},domProps:{value:t.userForm.parent_email},on:{input:function(e){e.target.composing||t.$set(t.userForm,"parent_email",e.target.value)}}}),t._v(" "),n("show-error",{attrs:{"form-name":t.userForm,"prop-name":"parent_email"}})],1),t._v(" "),n("div",{staticClass:"form-group"},[n("label",{attrs:{for:""}},[t._v(t._s(t.trans("auth.username")))]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.userForm.parent_username,expression:"userForm.parent_username"}],staticClass:"form-control",attrs:{type:"text",name:"parent_username",placeholder:t.trans("student.parent_username")},domProps:{value:t.userForm.parent_username},on:{input:function(e){e.target.composing||t.$set(t.userForm,"parent_username",e.target.value)}}}),t._v(" "),n("show-error",{attrs:{"form-name":t.userForm,"prop-name":"parent_username"}})],1),t._v(" "),t.student.parent.user_id?n("div",{staticClass:"form-group"},[n("label",{staticClass:"custom-control custom-checkbox"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.userForm.change_parent_password,expression:"userForm.change_parent_password"}],staticClass:"custom-control-input",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.userForm.change_parent_password)?t._i(t.userForm.change_parent_password,null)>-1:t.userForm.change_parent_password},on:{change:function(e){var n=t.userForm.change_parent_password,s=e.target,r=!!s.checked;if(Array.isArray(n)){var a=t._i(n,null);s.checked?a<0&&t.$set(t.userForm,"change_parent_password",n.concat([null])):a>-1&&t.$set(t.userForm,"change_parent_password",n.slice(0,a).concat(n.slice(a+1)))}else t.$set(t.userForm,"change_parent_password",r)}}}),t._v(" "),n("span",{staticClass:"custom-control-label"},[t._v(t._s(t.trans("auth.change_password")))])])]):t._e(),t._v(" "),t.userForm.change_parent_password?[n("div",{staticClass:"form-group"},[n("label",{attrs:{for:""}},[t._v(t._s(t.trans("auth.password")))]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.userForm.parent_password,expression:"userForm.parent_password"}],staticClass:"form-control",attrs:{type:"password",name:"parent_password",placeholder:t.trans("student.parent_password")},domProps:{value:t.userForm.parent_password},on:{input:function(e){e.target.composing||t.$set(t.userForm,"parent_password",e.target.value)}}}),t._v(" "),n("show-error",{attrs:{"form-name":t.userForm,"prop-name":"parent_password"}})],1),t._v(" "),n("div",{staticClass:"form-group"},[n("label",{attrs:{for:""}},[t._v(t._s(t.trans("auth.confirm_password")))]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.userForm.parent_password_confirmation,expression:"userForm.parent_password_confirmation"}],staticClass:"form-control",attrs:{type:"password",name:"parent_password_confirmation",placeholder:t.trans("auth.confirm_password")},domProps:{value:t.userForm.parent_password_confirmation},on:{input:function(e){e.target.composing||t.$set(t.userForm,"parent_password_confirmation",e.target.value)}}}),t._v(" "),n("show-error",{attrs:{"form-name":t.userForm,"prop-name":"parent_password_confirmation"}})],1)]:t._e()]:t._e()],2),t._v(" "),n("div",{staticClass:"col-12 col-sm-6"},[n("div",{staticClass:"form-group"},[n("label",{staticClass:"custom-control custom-checkbox"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.userForm.enable_student_login,expression:"userForm.enable_student_login"}],staticClass:"custom-control-input",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.userForm.enable_student_login)?t._i(t.userForm.enable_student_login,null)>-1:t.userForm.enable_student_login},on:{change:function(e){var n=t.userForm.enable_student_login,s=e.target,r=!!s.checked;if(Array.isArray(n)){var a=t._i(n,null);s.checked?a<0&&t.$set(t.userForm,"enable_student_login",n.concat([null])):a>-1&&t.$set(t.userForm,"enable_student_login",n.slice(0,a).concat(n.slice(a+1)))}else t.$set(t.userForm,"enable_student_login",r)}}}),t._v(" "),n("span",{staticClass:"custom-control-label"},[t._v(t._s(t.trans("student.enable_student_login")))])])]),t._v(" "),t.userForm.enable_student_login?[n("div",{staticClass:"form-group"},[n("label",{attrs:{for:""}},[t._v(t._s(t.trans("auth.email")))]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.userForm.student_email,expression:"userForm.student_email"}],staticClass:"form-control",attrs:{type:"text",name:"student_email",placeholder:t.trans("student.student_email")},domProps:{value:t.userForm.student_email},on:{input:function(e){e.target.composing||t.$set(t.userForm,"student_email",e.target.value)}}}),t._v(" "),n("show-error",{attrs:{"form-name":t.userForm,"prop-name":"student_email"}})],1),t._v(" "),n("div",{staticClass:"form-group"},[n("label",{attrs:{for:""}},[t._v(t._s(t.trans("auth.username")))]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.userForm.student_username,expression:"userForm.student_username"}],staticClass:"form-control",attrs:{type:"text",name:"student_username",placeholder:t.trans("student.student_username")},domProps:{value:t.userForm.student_username},on:{input:function(e){e.target.composing||t.$set(t.userForm,"student_username",e.target.value)}}}),t._v(" "),n("show-error",{attrs:{"form-name":t.userForm,"prop-name":"student_username"}})],1),t._v(" "),t.student.user_id?n("div",{staticClass:"form-group"},[n("label",{staticClass:"custom-control custom-checkbox"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.userForm.change_student_password,expression:"userForm.change_student_password"}],staticClass:"custom-control-input",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.userForm.change_student_password)?t._i(t.userForm.change_student_password,null)>-1:t.userForm.change_student_password},on:{change:function(e){var n=t.userForm.change_student_password,s=e.target,r=!!s.checked;if(Array.isArray(n)){var a=t._i(n,null);s.checked?a<0&&t.$set(t.userForm,"change_student_password",n.concat([null])):a>-1&&t.$set(t.userForm,"change_student_password",n.slice(0,a).concat(n.slice(a+1)))}else t.$set(t.userForm,"change_student_password",r)}}}),t._v(" "),n("span",{staticClass:"custom-control-label"},[t._v(t._s(t.trans("auth.change_password")))])])]):t._e(),t._v(" "),t.userForm.change_student_password?[n("div",{staticClass:"form-group"},[n("label",{attrs:{for:""}},[t._v(t._s(t.trans("auth.password")))]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.userForm.student_password,expression:"userForm.student_password"}],staticClass:"form-control",attrs:{type:"password",name:"student_password",placeholder:t.trans("student.student_password")},domProps:{value:t.userForm.student_password},on:{input:function(e){e.target.composing||t.$set(t.userForm,"student_password",e.target.value)}}}),t._v(" "),n("show-error",{attrs:{"form-name":t.userForm,"prop-name":"student_password"}})],1),t._v(" "),n("div",{staticClass:"form-group"},[n("label",{attrs:{for:""}},[t._v(t._s(t.trans("auth.confirm_password")))]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.userForm.student_password_confirmation,expression:"userForm.student_password_confirmation"}],staticClass:"form-control",attrs:{type:"password",name:"student_password_confirmation",placeholder:t.trans("auth.confirm_password")},domProps:{value:t.userForm.student_password_confirmation},on:{input:function(e){e.target.composing||t.$set(t.userForm,"student_password_confirmation",e.target.value)}}}),t._v(" "),n("show-error",{attrs:{"form-name":t.userForm,"prop-name":"student_password_confirmation"}})],1)]:t._e()]:t._e()],2)]),t._v(" "),n("div",{staticClass:"text-right",class:t.footer?"card-footer":""},[n("button",{staticClass:"btn btn-info",attrs:{type:"submit"}},[t._v(t._s(t.trans("general.save")))])])])]):t._e()}),[],!1,null,null,null).exports},33534:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>c});function s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,s)}return n}function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const a={components:{loginDetail:n(27249).Z},data:function(){return{loginForm:new Form({batch_id:"",students:[]},!1),batches:[],selected_batch:null,selected_batch_detail:{},student_records:[],help_topic:"",detail_id:""}},mounted:function(){helper.hasPermission("edit-student")||(helper.notAccessibleMsg(),this.$router.push("/dashboard")),this.getPreRequisite(),helper.showDemoNotification(["student"])},methods:{getPreRequisite:function(){var t=this,e=this.$loading.show();axios.get("/api/student/roll/number/pre-requisite").then((function(n){t.batches=n.batches,e.hide()})).catch((function(t){e.hide(),helper.showErrorMsg(t)}))},getStudent:function(){var t=this,e=this.$loading.show();axios.post("/api/student/fetch/login",{batch_id:this.loginForm.batch_id}).then((function(n){t.student_records=n.student_records,t.selected_batch_detail=n.batch,t.loginForm.students=[],t.student_records.forEach((function(e){e.student;t.loginForm.students.push(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(Object(n),!0).forEach((function(e){r(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},e.student))})),t.loginForm.students.sort((function(t,e){var n=t.name.toUpperCase(),s=e.name.toUpperCase();return n<s?-1:n>s?1:0})),e.hide()})).catch((function(t){e.hide(),helper.showErrorMsg(t)}))},getStudentName:function(t){return helper.getStudentName(t)},getRollNumberName:function(t){return t+"_roll_number"},onBatchSelect:function(t){var e=this.$loading.show();this.loginForm.batch_id=t.id,this.autoRollNumberAssign=0,this.getStudent(),e.hide()},onBatchRemove:function(t){this.loginForm.batch_id="",this.loginForm.students=[],this.student_records=[]},updatePhoto:function(t){},completed:function(){this.detail_id="",this.getStudent()}},filters:{moment:function(t){return helper.formatDate(t)},momentDateTime:function(t){return helper.formatDateTime(t)}}};var o=n(93379),i=n.n(o),u=n(67541),l={insert:"head",singleton:!1};i()(u.Z,l);u.Z.locals;const c=(0,n(51900).Z)(a,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"page-titles"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-12 col-sm-6"},[n("h3",{staticClass:"text-themecolor"},[t._v(t._s(t.trans("student.login")))])]),t._v(" "),n("div",{staticClass:"col-12 col-sm-6"},[n("div",{staticClass:"action-buttons pull-right"},[n("help-button",{on:{clicked:function(e){t.help_topic="registration"}}})],1)])])]),t._v(" "),n("div",{staticClass:"container-fluid"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-12"},[n("div",{staticClass:"card"},[n("div",{staticClass:"card-body p-4"},[n("form",{on:{submit:function(e){return e.preventDefault(),t.submit.apply(null,arguments)},keydown:function(e){return t.loginForm.errors.clear(e.target.name)}}},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-12 col-sm-3"},[n("div",{staticClass:"form-group"},[n("label",{attrs:{for:""}},[t._v(t._s(t.trans("academic.batch")))]),t._v(" "),n("v-select",{attrs:{label:"name","group-values":"batches","group-label":"course_group","group-select":!1,name:"batch_id",id:"batch_id",options:t.batches,placeholder:t.trans("academic.select_batch")},on:{select:t.onBatchSelect,close:function(e){return t.loginForm.errors.clear("batch_id")},remove:t.onBatchRemove},model:{value:t.selected_batch,callback:function(e){t.selected_batch=e},expression:"selected_batch"}},[t.batches.length?t._e():n("div",{staticClass:"multiselect__option",attrs:{slot:"afterList"},slot:"afterList"},[t._v("\n\t\t\t\t\t\t                            "+t._s(t.trans("general.no_option_found"))+"\n\t\t\t\t\t\t                        ")])]),t._v(" "),n("show-error",{attrs:{"form-name":t.loginForm,"prop-name":"batch_id"}})],1)])]),t._v(" "),t.loginForm.students.length?n("div",t._l(t.loginForm.students,(function(e){return n("div",{key:e.id},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-12 col-sm-6"},[n("div",{staticClass:"student-info",staticStyle:{cursor:"pointer"},on:{click:function(n){t.detail_id=e.id}}},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-sm-6"},[n("span",{staticClass:"student-thumb pull-left"},[e.student_photo?[n("img",{staticStyle:{height:"inherit",width:"auto"},attrs:{src:"/"+e.student_photo}})]:["female"==e.gender?n("img",{staticClass:"img-circle",attrs:{src:"/images/avatar_female_kid.png"}}):n("img",{staticClass:"img-circle",attrs:{src:"/images/avatar_male_kid.png"}})]],2),t._v(" "),n("p",[n("span",{staticClass:"student-name"},[t._v(t._s(e.name))]),t._v(" "),n("span",{staticClass:"other small text-muted"},[t._v("\n\t\t\t\t\t                                            \t"+t._s(e.parent.first_guardian_name)+" "),n("i",{staticClass:"fas fa-mobile"}),t._v(" "+t._s(e.contact_number)+"\n\t\t\t\t\t                                            ")])])]),t._v(" "),n("div",{staticClass:"col-sm-6"},[n("div",{staticStyle:{"margin-top":"10px"}},[e.user_id&&"activated"===e.user.status?n("span",{staticClass:"text-success"},[n("i",{staticClass:"fas fa-check fa-lg"})]):n("span",{staticClass:"text-danger"},[n("i",{staticClass:"fas fa-times fa-lg"})]),t._v(" "),n("span",{staticClass:"other small text-muted"},[t._v(t._s(t.trans("student.student_login")))])]),t._v(" "),n("div",[e.parent.user_id&&"activated"===e.parent.user.status?n("span",{staticClass:"text-success"},[n("i",{staticClass:"fas fa-check fa-lg"})]):n("span",{staticClass:"text-danger"},[n("i",{staticClass:"fas fa-times fa-lg"})]),t._v(" "),n("span",{staticClass:"other small text-muted"},[t._v(t._s(t.trans("student.parent_login")))])])])])])]),t._v(" "),n("div",{staticClass:"col-12 col-sm-6"},[t.detail_id===e.id?[n("login-detail",{attrs:{footer:!1,student:e},on:{completed:t.completed}})]:t._e()],2)])])})),0):t._e()])])])])])]),t._v(" "),n("right-panel",{attrs:{topic:t.help_topic}})],1)}),[],!1,null,"4254f25e",null).exports}}]);
//# sourceMappingURL=list.js.map?id=4db4016eb371d166ff50
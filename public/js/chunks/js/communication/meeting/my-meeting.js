(self.webpackChunkInstiKit=self.webpackChunkInstiKit||[]).push([[7291],{56826:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>s});const i={components:{},data:function(){return{meetings:{total:0,data:[]},filter:{sort_by:"date",order:"desc",page_length:helper.getConfig("page_length")},orderByOptions:[{value:"created_at",translation:i18n.general.created_at},{value:"date",translation:i18n.communication.meeting_date},{value:"title",translation:i18n.communication.meeting_title}],help_topic:""}},mounted:function(){helper.hasPermission("list-meeting")||(helper.notAccessibleMsg(),this.$router.push("/dashboard")),this.getMeetings(),helper.showDemoNotification(["communication"])},methods:{hasPermission:function(t){return helper.hasPermission(t)},getEmployeeName:function(t){return helper.getEmployeeName(t)},getEmployeeDesignationOnDate:function(t,e){return helper.getEmployeeDesignationOnDate(t,e)},getMeetings:function(t){var e=this,n=this.$loading.show();"number"!=typeof t&&(t=1);var i=helper.getFilterURL(this.filter);axios.get("/api/my-meeting?page="+t+i).then((function(t){e.meetings=t,n.hide()})).catch((function(t){n.hide(),helper.showErrorMsg(t)}))},showMeeting:function(t){this.$router.push("/communication/meeting/"+t.uuid)},getConfig:function(t){return helper.getConfig(t)}},filters:{moment:function(t){return helper.formatDate(t)},momentDateTime:function(t){return helper.formatDateTime(t)},momentTime:function(t){return helper.formatTime(t)}},watch:{"filter.sort_by":function(t){this.getMeetings()},"filter.order":function(t){this.getMeetings()},"filter.page_length":function(t){this.getMeetings()}},computed:{authToken:function(){return helper.getAuthToken()}}};const s=(0,n(51900).Z)(i,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"page-titles"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-12 col-sm-6"},[n("h3",{staticClass:"text-themecolor"},[t._v(t._s(t.trans("communication.meeting"))+" \n                    "),t.meetings.total?n("span",{staticClass:"card-subtitle d-none d-sm-inline"},[t._v(t._s(t.trans("general.total_result_found",{count:t.meetings.total,from:t.meetings.from,to:t.meetings.to})))]):n("span",{staticClass:"card-subtitle d-none d-sm-inline"},[t._v(t._s(t.trans("general.no_result_found")))])])]),t._v(" "),n("div",{staticClass:"col-12 col-sm-6"})])]),t._v(" "),n("div",{staticClass:"container-fluid"},[n("div",{staticClass:"card"},[n("div",{staticClass:"card-body"},[t.meetings.total?n("div",{staticClass:"table-responsive"},[n("table",{staticClass:"table table-sm"},[n("thead",[n("tr",[n("th",[t._v(t._s(t.trans("communication.meeting_title")))]),t._v(" "),n("th",[t._v(t._s(t.trans("communication.meeting_duration")))]),t._v(" "),n("th",[t._v(t._s(t.trans("communication.meeting_created_by")))]),t._v(" "),n("th",[t._v(t._s(t.trans("general.created_at")))]),t._v(" "),n("th",{staticClass:"table-option"},[t._v(t._s(t.trans("general.action")))])])]),t._v(" "),n("tbody",t._l(t.meetings.data,(function(e){return n("tr",[n("td",[t._v("\n                                    "+t._s(e.title)+"\n                                    "),e.is_live?n("span",{staticClass:"badge badge-success"},[t._v(t._s(t.trans("communication.live")))]):t._e(),t._v(" "),e.is_expired?n("span",{staticClass:"badge badge-danger"},[t._v(t._s(t.trans("communication.expired")))]):t._e()]),t._v(" "),n("td",[t._v("\n                                    "+t._s(t._f("moment")(e.date))+" "),e.start_time?n("span",[t._v(t._s(t._f("momentTime")(e.start_time)))]):t._e(),t._v(" "),e.end_time?n("span",[t._v(" "+t._s(t.trans("general.to"))+" \n                                    "+t._s(t._f("momentTime")(e.end_time)))]):t._e()]),t._v(" "),n("td",[t._v(t._s(t.getEmployeeName(e.user.employee))+" "),n("br"),t._v(" "+t._s(t.getEmployeeDesignationOnDate(e.user.employee,e.date)))]),t._v(" "),n("td",[t._v(t._s(t._f("momentDateTime")(e.created_at)))]),t._v(" "),n("td",{staticClass:"table-option"},[n("div",{staticClass:"btn-group"},[n("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.trans("general.view_detail"),expression:"trans('general.view_detail')"}],staticClass:"btn btn-success btn-sm",on:{click:function(n){return n.preventDefault(),t.showMeeting(e)}}},[n("i",{staticClass:"fas fa-arrow-circle-right"})])])])])})),0)])]):t._e(),t._v(" "),t.meetings.total?t._e():n("module-info",{attrs:{module:"communication",title:"my_meeting_not_found_title",description:"my_meeting_not_found_description",icon:"list"}}),t._v(" "),n("pagination-record",{attrs:{"page-length":t.filter.page_length,records:t.meetings},on:{"update:pageLength":function(e){return t.$set(t.filter,"page_length",e)},"update:page-length":function(e){return t.$set(t.filter,"page_length",e)},updateRecords:t.getMeetings}})],1)])]),t._v(" "),n("right-panel",{attrs:{topic:t.help_topic}})],1)}),[],!1,null,null,null).exports}}]);
//# sourceMappingURL=my-meeting.js.map?id=40658e9098a77484fad0
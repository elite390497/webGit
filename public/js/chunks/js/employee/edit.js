(self.webpackChunkInstiKit=self.webpackChunkInstiKit||[]).push([[7944],{94613:(e,t,o)=>{"use strict";o.d(t,{Z:()=>r});var a=o(94015),n=o.n(a),s=o(23645),i=o.n(s)()(n());i.push([e.id,".loading-overlay{z-index:1060}","",{version:3,sources:["webpack://./resources/js/views/employee/account/create.vue"],names:[],mappings:"AAsCA,iBACA,YACA",sourcesContent:['<template>\n    <transition name="modal">\n        <div class="modal-mask">\n            <div class="modal-wrapper">\n                <div class="modal-container modal-lg">\n                    <div class="modal-header">\n                        <slot name="header">\n                            {{trans(\'employee.add_new_account\')}}\n                            <span class="float-right pointer" @click="$emit(\'close\')">x</span>\n                        </slot>\n                    </div>\n                    <div class="modal-body">\n                        <slot name="body">\n                            <account-form :uuid="employee.uuid" @completed="complete"></account-form>\n                        </slot>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </transition>\n</template>\n\n<script>\n    import accountForm from \'./form\'\n\n    export default {\n        components: {accountForm},\n        props: [\'employee\'],\n        methods:{\n            complete(){\n                this.$emit(\'completed\');\n                this.$emit(\'close\');\n            }\n        }\n    }\n<\/script>\n\n<style>\n    .loading-overlay{\n        z-index: 1060;\n    }\n</style>'],sourceRoot:""}]);const r=i},37107:(e,t,o)=>{"use strict";o.d(t,{Z:()=>r});var a=o(94015),n=o.n(a),s=o(23645),i=o.n(s)()(n());i.push([e.id,".loading-overlay{z-index:1060}","",{version:3,sources:["webpack://./resources/js/views/employee/account/edit.vue"],names:[],mappings:"AAsCA,iBACA,YACA",sourcesContent:['<template>\n    <transition name="modal">\n        <div class="modal-mask">\n            <div class="modal-wrapper">\n                <div class="modal-container modal-lg">\n                    <div class="modal-header">\n                        <slot name="header">\n                            {{trans(\'employee.edit_account\')}}\n                            <span class="float-right pointer" @click="$emit(\'close\')">x</span>\n                        </slot>\n                    </div>\n                    <div class="modal-body">\n                        <slot name="body">\n                            <account-form :uuid="employee.uuid" :aid="aid" @completed="complete"></account-form>\n                        </slot>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </transition>\n</template>\n\n<script>\n    import accountForm from \'./form\'\n\n    export default {\n        components: {accountForm},\n        props: [\'employee\',\'aid\'],\n        methods: {\n            complete(){\n                this.$emit(\'completed\');\n                this.$emit(\'close\');\n            }\n        }\n    }\n<\/script>\n\n<style>\n    .loading-overlay{\n        z-index: 1060;\n    }\n</style>'],sourceRoot:""}]);const r=i},33989:(e,t,o)=>{"use strict";o.d(t,{Z:()=>r});var a=o(94015),n=o.n(a),s=o(23645),i=o.n(s)()(n());i.push([e.id,".loading-overlay{z-index:1060}","",{version:3,sources:["webpack://./resources/js/views/employee/designation/create.vue"],names:[],mappings:"AAsCA,iBACA,YACA",sourcesContent:['<template>\n    <transition name="modal">\n        <div class="modal-mask">\n            <div class="modal-wrapper">\n                <div class="modal-container modal-lg">\n                    <div class="modal-header">\n                        <slot name="header">\n                            {{trans(\'employee.add_new_designation\')}}\n                            <span class="float-right pointer" @click="$emit(\'close\')">x</span>\n                        </slot>\n                    </div>\n                    <div class="modal-body">\n                        <slot name="body">\n                            <designation-form :uuid="employee.uuid" @completed="complete"></designation-form>\n                        </slot>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </transition>\n</template>\n\n<script>\n    import designationForm from \'./form\'\n\n    export default {\n        components: {designationForm},\n        props: [\'employee\'],\n        methods:{\n            complete(){\n                this.$emit(\'completed\');\n                this.$emit(\'close\');\n            }\n        }\n    }\n<\/script>\n\n<style>\n    .loading-overlay{\n        z-index: 1060;\n    }\n</style>'],sourceRoot:""}]);const r=i},5744:(e,t,o)=>{"use strict";o.d(t,{Z:()=>r});var a=o(94015),n=o.n(a),s=o(23645),i=o.n(s)()(n());i.push([e.id,".loading-overlay{z-index:1060}","",{version:3,sources:["webpack://./resources/js/views/employee/designation/edit.vue"],names:[],mappings:"AAsCA,iBACA,YACA",sourcesContent:['<template>\n    <transition name="modal">\n        <div class="modal-mask">\n            <div class="modal-wrapper">\n                <div class="modal-container modal-lg">\n                    <div class="modal-header">\n                        <slot name="header">\n                            {{trans(\'employee.edit_designation\')}}\n                            <span class="float-right pointer" @click="$emit(\'close\')">x</span>\n                        </slot>\n                    </div>\n                    <div class="modal-body">\n                        <slot name="body">\n                            <designation-form :uuid="employee.uuid" :did="did" @completed="complete"></designation-form>\n                        </slot>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </transition>\n</template>\n\n<script>\n    import designationForm from \'./form\'\n\n    export default {\n        components: {designationForm},\n        props: [\'employee\',\'did\'],\n        methods: {\n            complete(){\n                this.$emit(\'completed\');\n                this.$emit(\'close\');\n            }\n        }\n    }\n<\/script>\n\n<style>\n    .loading-overlay{\n        z-index: 1060;\n    }\n</style>'],sourceRoot:""}]);const r=i},69405:(e,t,o)=>{"use strict";o.d(t,{Z:()=>r});var a=o(94015),n=o.n(a),s=o(23645),i=o.n(s)()(n());i.push([e.id,".loading-overlay{z-index:1060}","",{version:3,sources:["webpack://./resources/js/views/employee/document/create.vue"],names:[],mappings:"AAsCA,iBACA,YACA",sourcesContent:['<template>\n    <transition name="modal">\n        <div class="modal-mask">\n            <div class="modal-wrapper">\n                <div class="modal-container modal-lg">\n                    <div class="modal-header">\n                        <slot name="header">\n                            {{trans(\'employee.add_new_document\')}}\n                            <span class="float-right pointer" @click="$emit(\'close\')">x</span>\n                        </slot>\n                    </div>\n                    <div class="modal-body">\n                        <slot name="body">\n                            <document-form :uuid="employee.uuid" @completed="complete"></document-form>\n                        </slot>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </transition>\n</template>\n\n<script>\n    import documentForm from \'./form\'\n\n    export default {\n        components: {documentForm},\n        props: [\'employee\'],\n        methods:{\n            complete(){\n                this.$emit(\'completed\');\n                this.$emit(\'close\');\n            }\n        }\n    }\n<\/script>\n\n<style>\n    .loading-overlay{\n        z-index: 1060;\n    }\n</style>'],sourceRoot:""}]);const r=i},89078:(e,t,o)=>{"use strict";o.d(t,{Z:()=>r});var a=o(94015),n=o.n(a),s=o(23645),i=o.n(s)()(n());i.push([e.id,".loading-overlay{z-index:1060}","",{version:3,sources:["webpack://./resources/js/views/employee/document/edit.vue"],names:[],mappings:"AAsCA,iBACA,YACA",sourcesContent:['<template>\n    <transition name="modal">\n        <div class="modal-mask">\n            <div class="modal-wrapper">\n                <div class="modal-container modal-lg">\n                    <div class="modal-header">\n                        <slot name="header">\n                            {{trans(\'employee.edit_document\')}}\n                            <span class="float-right pointer" @click="$emit(\'close\')">x</span>\n                        </slot>\n                    </div>\n                    <div class="modal-body">\n                        <slot name="body">\n                            <document-form :uuid="employee.uuid" :did="did" @completed="complete"></document-form>\n                        </slot>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </transition>\n</template>\n\n<script>\n    import documentForm from \'./form\'\n\n    export default {\n        components: {documentForm},\n        props: [\'employee\',\'did\'],\n        methods: {\n            complete(){\n                this.$emit(\'completed\');\n                this.$emit(\'close\');\n            }\n        }\n    }\n<\/script>\n\n<style>\n    .loading-overlay{\n        z-index: 1060;\n    }\n</style>'],sourceRoot:""}]);const r=i},13560:(e,t,o)=>{"use strict";o.d(t,{Z:()=>r});var a=o(94015),n=o.n(a),s=o(23645),i=o.n(s)()(n());i.push([e.id,".loading-overlay{z-index:1060}","",{version:3,sources:["webpack://./resources/js/views/employee/qualification/create.vue"],names:[],mappings:"AAsCA,iBACA,YACA",sourcesContent:['<template>\n    <transition name="modal">\n        <div class="modal-mask">\n            <div class="modal-wrapper">\n                <div class="modal-container modal-lg">\n                    <div class="modal-header">\n                        <slot name="header">\n                            {{trans(\'employee.add_new_qualification\')}}\n                            <span class="float-right pointer" @click="$emit(\'close\')">x</span>\n                        </slot>\n                    </div>\n                    <div class="modal-body">\n                        <slot name="body">\n                            <qualification-form :uuid="employee.uuid" @completed="complete"></qualification-form>\n                        </slot>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </transition>\n</template>\n\n<script>\n    import qualificationForm from \'./form\'\n\n    export default {\n        components: {qualificationForm},\n        props: [\'employee\'],\n        methods:{\n            complete(){\n                this.$emit(\'completed\');\n                this.$emit(\'close\');\n            }\n        }\n    }\n<\/script>\n\n<style>\n    .loading-overlay{\n        z-index: 1060;\n    }\n</style>'],sourceRoot:""}]);const r=i},71740:(e,t,o)=>{"use strict";o.d(t,{Z:()=>r});var a=o(94015),n=o.n(a),s=o(23645),i=o.n(s)()(n());i.push([e.id,".loading-overlay{z-index:1060}","",{version:3,sources:["webpack://./resources/js/views/employee/qualification/edit.vue"],names:[],mappings:"AAsCA,iBACA,YACA",sourcesContent:['<template>\n    <transition name="modal">\n        <div class="modal-mask">\n            <div class="modal-wrapper">\n                <div class="modal-container modal-lg">\n                    <div class="modal-header">\n                        <slot name="header">\n                            {{trans(\'employee.edit_qualification\')}}\n                            <span class="float-right pointer" @click="$emit(\'close\')">x</span>\n                        </slot>\n                    </div>\n                    <div class="modal-body">\n                        <slot name="body">\n                            <qualification-form :uuid="employee.uuid" :qid="qid" @completed="complete"></qualification-form>\n                        </slot>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </transition>\n</template>\n\n<script>\n    import qualificationForm from \'./form\'\n\n    export default {\n        components: {qualificationForm},\n        props: [\'employee\',\'qid\'],\n        methods: {\n            complete(){\n                this.$emit(\'completed\');\n                this.$emit(\'close\');\n            }\n        }\n    }\n<\/script>\n\n<style>\n    .loading-overlay{\n        z-index: 1060;\n    }\n</style>'],sourceRoot:""}]);const r=i},82350:(e,t,o)=>{"use strict";o.d(t,{Z:()=>r});var a=o(94015),n=o.n(a),s=o(23645),i=o.n(s)()(n());i.push([e.id,".loading-overlay{z-index:1060}","",{version:3,sources:["webpack://./resources/js/views/employee/term/create.vue"],names:[],mappings:"AAsCA,iBACA,YACA",sourcesContent:['<template>\n    <transition name="modal">\n        <div class="modal-mask">\n            <div class="modal-wrapper">\n                <div class="modal-container modal-lg">\n                    <div class="modal-header">\n                        <slot name="header">\n                            {{trans(\'employee.add_new_term\')}}\n                            <span class="float-right pointer" @click="$emit(\'close\')">x</span>\n                        </slot>\n                    </div>\n                    <div class="modal-body">\n                        <slot name="body">\n                            <term-form :uuid="employee.uuid" @completed="complete"></term-form>\n                        </slot>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </transition>\n</template>\n\n<script>\n    import termForm from \'./form\'\n\n    export default {\n        components: {termForm},\n        props: [\'employee\'],\n        methods:{\n            complete(){\n                this.$emit(\'completed\');\n                this.$emit(\'close\');\n            }\n        }\n    }\n<\/script>\n\n<style>\n    .loading-overlay{\n        z-index: 1060;\n    }\n</style>'],sourceRoot:""}]);const r=i},94635:(e,t,o)=>{"use strict";o.d(t,{Z:()=>r});var a=o(94015),n=o.n(a),s=o(23645),i=o.n(s)()(n());i.push([e.id,".loading-overlay{z-index:1060}","",{version:3,sources:["webpack://./resources/js/views/employee/term/edit.vue"],names:[],mappings:"AAsCA,iBACA,YACA",sourcesContent:['<template>\n    <transition name="modal">\n        <div class="modal-mask">\n            <div class="modal-wrapper">\n                <div class="modal-container modal-lg">\n                    <div class="modal-header">\n                        <slot name="header">\n                            {{trans(\'employee.edit_term\')}}\n                            <span class="float-right pointer" @click="$emit(\'close\')">x</span>\n                        </slot>\n                    </div>\n                    <div class="modal-body">\n                        <slot name="body">\n                            <term-form :uuid="employee.uuid" :tid="tid" @completed="complete"></term-form>\n                        </slot>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </transition>\n</template>\n\n<script>\n    import termForm from \'./form\'\n\n    export default {\n        components: {termForm},\n        props: [\'employee\',\'tid\'],\n        methods: {\n            complete(){\n                this.$emit(\'completed\');\n                this.$emit(\'close\');\n            }\n        }\n    }\n<\/script>\n\n<style>\n    .loading-overlay{\n        z-index: 1060;\n    }\n</style>'],sourceRoot:""}]);const r=i},40969:(e,t,o)=>{"use strict";o.d(t,{Z:()=>g});const a={components:{},data:function(){return{accountForm:new Form({name:"",account_number:"",bank_name:"",branch_name:"",bank_identification_code:"",is_primary:!1,description:""}),clearAttachment:!0}},props:["uuid","aid"],mounted:function(){this.aid&&this.getAccount()},methods:{proceed:function(){this.aid?this.updateAccount():this.storeAccount()},storeAccount:function(){var e=this,t=this.$loading.show();this.accountForm.post("/api/employee/"+this.uuid+"/account").then((function(o){toastr.success(o.message),e.$emit("completed"),t.hide()})).catch((function(e){t.hide(),helper.showErrorMsg(e)}))},getAccount:function(){var e=this,t=this.$loading.show();axios.get("/api/employee/"+this.uuid+"/account/"+this.aid).then((function(o){e.accountForm.name=o.name,e.accountForm.account_number=o.account_number,e.accountForm.bank_name=o.bank_name,e.accountForm.branch_name=o.branch_name,e.accountForm.bank_identification_code=o.bank_identification_code,e.accountForm.is_primary=o.options.is_primary,e.accountForm.description=o.description,e.$emit("loaded"),t.hide()})).catch((function(o){t.hide(),e.$router.push("/employee/"+e.uuid)}))},updateAccount:function(){var e=this,t=this.$loading.show();this.accountForm.patch("/api/employee/"+this.uuid+"/account/"+this.aid).then((function(o){toastr.success(o.message),e.$emit("completed"),t.hide()})).catch((function(e){t.hide(),helper.showErrorMsg(e)}))}}};var n=o(51900);const s=(0,n.Z)(a,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("form",{on:{submit:function(t){return t.preventDefault(),e.proceed.apply(null,arguments)},keydown:function(t){return e.accountForm.errors.clear(t.target.name)}}},[o("div",{staticClass:"row"},[o("div",{staticClass:"col-12 col-sm-6"},[o("div",{staticClass:"form-group"},[o("label",{attrs:{for:""}},[e._v(e._s(e.trans("employee.account_name")))]),e._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.accountForm.name,expression:"accountForm.name"}],staticClass:"form-control",attrs:{type:"text",name:"name",placeholder:e.trans("employee.account_name")},domProps:{value:e.accountForm.name},on:{input:function(t){t.target.composing||e.$set(e.accountForm,"name",t.target.value)}}}),e._v(" "),o("show-error",{attrs:{"form-name":e.accountForm,"prop-name":"name"}})],1)]),e._v(" "),o("div",{staticClass:"col-12 col-sm-6"},[o("div",{staticClass:"form-group"},[o("label",{attrs:{for:""}},[e._v(e._s(e.trans("employee.account_number")))]),e._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.accountForm.account_number,expression:"accountForm.account_number"}],staticClass:"form-control",attrs:{type:"text",name:"account_number",placeholder:e.trans("employee.account_number")},domProps:{value:e.accountForm.account_number},on:{input:function(t){t.target.composing||e.$set(e.accountForm,"account_number",t.target.value)}}}),e._v(" "),o("show-error",{attrs:{"form-name":e.accountForm,"prop-name":"account_number"}})],1)]),e._v(" "),o("div",{staticClass:"col-12 col-sm-6"},[o("div",{staticClass:"form-group"},[o("label",{attrs:{for:""}},[e._v(e._s(e.trans("employee.bank_name")))]),e._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.accountForm.bank_name,expression:"accountForm.bank_name"}],staticClass:"form-control",attrs:{type:"text",name:"bank_name",placeholder:e.trans("employee.bank_name")},domProps:{value:e.accountForm.bank_name},on:{input:function(t){t.target.composing||e.$set(e.accountForm,"bank_name",t.target.value)}}}),e._v(" "),o("show-error",{attrs:{"form-name":e.accountForm,"prop-name":"bank_name"}})],1)]),e._v(" "),o("div",{staticClass:"col-12 col-sm-6"},[o("div",{staticClass:"form-group"},[o("label",{attrs:{for:""}},[e._v(e._s(e.trans("employee.branch_name")))]),e._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.accountForm.branch_name,expression:"accountForm.branch_name"}],staticClass:"form-control",attrs:{type:"text",name:"branch_name",placeholder:e.trans("employee.branch_name")},domProps:{value:e.accountForm.branch_name},on:{input:function(t){t.target.composing||e.$set(e.accountForm,"branch_name",t.target.value)}}}),e._v(" "),o("show-error",{attrs:{"form-name":e.accountForm,"prop-name":"branch_name"}})],1)]),e._v(" "),o("div",{staticClass:"col-12 col-sm-6"},[o("div",{staticClass:"form-group"},[o("label",{attrs:{for:""}},[e._v(e._s(e.trans("employee.bank_identification_code")))]),e._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.accountForm.bank_identification_code,expression:"accountForm.bank_identification_code"}],staticClass:"form-control",attrs:{type:"text",name:"bank_identification_code",placeholder:e.trans("employee.bank_identification_code")},domProps:{value:e.accountForm.bank_identification_code},on:{input:function(t){t.target.composing||e.$set(e.accountForm,"bank_identification_code",t.target.value)}}}),e._v(" "),o("show-error",{attrs:{"form-name":e.accountForm,"prop-name":"bank_identification_code"}})],1)]),e._v(" "),o("div",{staticClass:"col-12 col-sm-6"},[o("div",{staticClass:"form-group"},[o("switches",{staticClass:"m-l-20",attrs:{theme:"bootstrap",color:"success"},model:{value:e.accountForm.is_primary,callback:function(t){e.$set(e.accountForm,"is_primary",t)},expression:"accountForm.is_primary"}}),e._v(" "+e._s(e.trans("employee.is_account_primary"))+"\n                ")],1)])]),e._v(" "),o("div",{staticClass:"form-group"},[o("autosize-textarea",{attrs:{rows:"2",name:"description",placeholder:e.trans("employee.account_description")},model:{value:e.accountForm.description,callback:function(t){e.$set(e.accountForm,"description",t)},expression:"accountForm.description"}}),e._v(" "),o("show-error",{attrs:{"form-name":e.accountForm,"prop-name":"description"}})],1),e._v(" "),o("button",{staticClass:"btn btn-info waves-effect waves-light pull-right",attrs:{type:"submit"}},[e.aid?o("span",[e._v(e._s(e.trans("general.update")))]):o("span",[e._v(e._s(e.trans("general.save")))])])]),e._v(" "),o("div",{staticClass:"clearfix"})])}),[],!1,null,null,null).exports,i={components:{accountForm:s},props:["employee"],methods:{complete:function(){this.$emit("completed"),this.$emit("close")}}};var r=o(93379),l=o.n(r),c=o(94613),m={insert:"head",singleton:!1};l()(c.Z,m);c.Z.locals;const d=(0,n.Z)(i,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("transition",{attrs:{name:"modal"}},[o("div",{staticClass:"modal-mask"},[o("div",{staticClass:"modal-wrapper"},[o("div",{staticClass:"modal-container modal-lg"},[o("div",{staticClass:"modal-header"},[e._t("header",(function(){return[e._v("\n                        "+e._s(e.trans("employee.add_new_account"))+"\n                        "),o("span",{staticClass:"float-right pointer",on:{click:function(t){return e.$emit("close")}}},[e._v("x")])]}))],2),e._v(" "),o("div",{staticClass:"modal-body"},[e._t("body",(function(){return[o("account-form",{attrs:{uuid:e.employee.uuid},on:{completed:e.complete}})]}))],2)])])])])}),[],!1,null,null,null).exports;const p={components:{accountForm:s},props:["employee","aid"],methods:{complete:function(){this.$emit("completed"),this.$emit("close")}}};var u=o(37107),_={insert:"head",singleton:!1};l()(u.Z,_);u.Z.locals;const v=(0,n.Z)(p,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("transition",{attrs:{name:"modal"}},[o("div",{staticClass:"modal-mask"},[o("div",{staticClass:"modal-wrapper"},[o("div",{staticClass:"modal-container modal-lg"},[o("div",{staticClass:"modal-header"},[e._t("header",(function(){return[e._v("\n                        "+e._s(e.trans("employee.edit_account"))+"\n                        "),o("span",{staticClass:"float-right pointer",on:{click:function(t){return e.$emit("close")}}},[e._v("x")])]}))],2),e._v(" "),o("div",{staticClass:"modal-body"},[e._t("body",(function(){return[o("account-form",{attrs:{uuid:e.employee.uuid,aid:e.aid},on:{completed:e.complete}})]}))],2)])])])])}),[],!1,null,null,null).exports;const f={components:{accountForm:s},props:["employee","aid"],mounted:function(){this.aid&&this.getEmployeeAccount()},data:function(){return{employee_account:{}}},methods:{getEmployeeAccount:function(){var e=this,t=this.$loading.show();axios.get("/api/employee/"+this.employee.uuid+"/account/"+this.aid).then((function(o){e.employee_account=o,t.hide()})).catch((function(e){t.hide(),helper.showErrorMsg(e)}))}},filters:{momentDateTime:function(e){return helper.formatDateTime(e)}}};const h=(0,n.Z)(f,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("transition",{attrs:{name:"modal"}},[o("div",{staticClass:"modal-mask"},[o("div",{staticClass:"modal-wrapper"},[o("div",{staticClass:"modal-container modal-lg"},[o("div",{staticClass:"modal-header"},[e._t("header",(function(){return[e._v("\n                        "+e._s(e.trans("employee.view_account"))+"\n                        "),o("span",{staticClass:"float-right pointer",on:{click:function(t){return e.$emit("close")}}},[e._v("x")])]}))],2),e._v(" "),o("div",{staticClass:"modal-body"},[e._t("body",(function(){return[o("div",{staticClass:"table-responsive"},[o("table",{staticClass:"table table-sm custom-show-table"},[o("tbody",[o("tr",[o("td",[e._v(e._s(e.trans("employee.account_name")))]),e._v(" "),o("td",[e._v(e._s(e.employee_account.name)+"\n                                            "),e.employee_account.options&&e.employee_account.options.is_primary?o("span",{staticClass:"label label-info"},[e._v(e._s(e.trans("employee.account_primary")))]):e._e()])]),e._v(" "),o("tr",[o("td",[e._v(e._s(e.trans("employee.account_number")))]),e._v(" "),o("td",[e._v(e._s(e.employee_account.account_number))])]),e._v(" "),o("tr",[o("td",[e._v(e._s(e.trans("employee.bank_name")))]),e._v(" "),o("td",[e._v(e._s(e.employee_account.bank_name))])]),e._v(" "),o("tr",[o("td",[e._v(e._s(e.trans("employee.branch_name")))]),e._v(" "),o("td",[e._v(e._s(e.employee_account.branch_name))])]),e._v(" "),o("tr",[o("td",[e._v(e._s(e.trans("employee.bank_identification_code")))]),e._v(" "),o("td",[e._v(e._s(e.employee_account.bank_identification_code))])]),e._v(" "),o("tr",[o("td",[e._v(e._s(e.trans("employee.account_description")))]),e._v(" "),o("td",[e._v(e._s(e.employee_account.description))])])])])]),e._v(" "),o("p",[o("i",{staticClass:"far fa-clock"}),e._v(" "),o("small",[e._v(e._s(e.trans("general.created_at"))+" "+e._s(e._f("momentDateTime")(e.employee_account.created_at)))]),e._v(" "),o("span",{staticClass:"pull-right"},[o("i",{staticClass:"far fa-clock"}),e._v(" "),o("small",[e._v(e._s(e.trans("general.updated_at"))+" "+e._s(e._f("momentDateTime")(e.employee_account.updated_at)))])])])]}))],2)])])])])}),[],!1,null,null,null).exports,y={props:{employee:{type:Object,default:function(){return{}}},readMode:{type:Boolean,default:!1}},components:{createAccount:d,editAccount:v,showAccount:h},data:function(){return{employee_accounts:{total:0,data:[]},showId:null,editId:null,employee_account:{},filter:{page_length:helper.getConfig("page_length")},addModal:!1,editModal:!1,showModal:!1}},mounted:function(){helper.hasPermission("list-employee")||(helper.notAccessibleMsg(),this.$router.push("/dashboard")),this.getEmployeeAccounts()},methods:{getEmployeeName:function(){return helper.getEmployeeName(this.employee)},showAction:function(e){this.showId=e.id,this.showModal=!0},editAction:function(e){this.editId=e.id,this.editModal=!0},getEmployeeAccounts:function(e){var t=this,o=this.$loading.show();"number"!=typeof e&&(e=1);var a=helper.getFilterURL(this.filter);axios.get("/api/employee/"+this.employee.uuid+"/account?page="+e+a).then((function(e){t.employee_accounts=e,o.hide()})).catch((function(e){o.hide(),helper.showErrorMsg(e)}))},confirmDelete:function(e){var t=this;return function(o){return t.deleteEmployeeAccount(e)}},deleteEmployeeAccount:function(e){var t=this,o=this.$loading.show();axios.delete("/api/employee/"+this.employee.uuid+"/account/"+e.id).then((function(e){toastr.success(e.message),t.getEmployeeAccounts(),o.hide()})).catch((function(e){o.hide(),helper.showErrorMsg(e)}))}},filters:{momentDateTime:function(e){return helper.formatDateTime(e)}},watch:{employee:function(e){this.getEmployeeAccounts()}}};const g=(0,n.Z)(y,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"p-b-20"},[e.readMode?e._e():o("button",{staticClass:"btn btn-sm btn-info pull-right m-b-10",on:{click:function(t){e.addModal=!0}}},[o("i",{staticClass:"fas fa-plus"}),e._v(" "+e._s(e.trans("employee.add_new_account")))]),e._v(" "),e.employee_accounts.total?o("div",{staticClass:"table-responsive"},[o("table",{staticClass:"table table-sm"},[o("thead",[o("tr",[o("th",[e._v(e._s(e.trans("employee.account_name")))]),e._v(" "),o("th",[e._v(e._s(e.trans("employee.account_number")))]),e._v(" "),o("th",[e._v(e._s(e.trans("employee.bank_name")))]),e._v(" "),o("th",[e._v(e._s(e.trans("employee.is_account_primary")))]),e._v(" "),o("th",{staticClass:"table-option"},[e._v(e._s(e.trans("general.action")))])])]),e._v(" "),o("tbody",e._l(e.employee_accounts.data,(function(t){return o("tr",[o("td",{domProps:{textContent:e._s(t.name)}}),e._v(" "),o("td",{domProps:{textContent:e._s(t.account_number)}}),e._v(" "),o("td",{domProps:{textContent:e._s(t.bank_name)}}),e._v(" "),o("td",[t.options.is_primary?o("i",{staticClass:"fas fa-check"}):o("i",{staticClass:"fas fa-times"})]),e._v(" "),o("td",{staticClass:"table-option"},[o("div",{staticClass:"btn-group"},[o("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.trans("employee.view_account"),expression:"trans('employee.view_account')"}],staticClass:"btn btn-success btn-sm",on:{click:function(o){return o.preventDefault(),e.showAction(t)}}},[o("i",{staticClass:"fas fa-arrow-circle-right"})]),e._v(" "),e.readMode?e._e():o("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.trans("employee.edit_account"),expression:"trans('employee.edit_account')"}],staticClass:"btn btn-info btn-sm",on:{click:function(o){return o.preventDefault(),e.editAction(t)}}},[o("i",{staticClass:"fas fa-edit"})]),e._v(" "),e.readMode?e._e():o("button",{directives:[{name:"confirm",rawName:"v-confirm",value:{ok:e.confirmDelete(t)},expression:"{ok: confirmDelete(employee_account)}"},{name:"tooltip",rawName:"v-tooltip",value:e.trans("employee.delete_account"),expression:"trans('employee.delete_account')"}],key:t.id,staticClass:"btn btn-danger btn-sm"},[o("i",{staticClass:"fas fa-trash"})])])])])})),0)])]):e._e(),e._v(" "),e.readMode?[e.employee_accounts.total?e._e():o("div",{staticClass:"font-80pc"},[e._v(e._s(e.trans("general.no_result_found")))])]:[e.employee_accounts.total?e._e():o("module-info",{attrs:{module:"employee",title:"account_module_title",description:"account_module_description",icon:"list"}},[o("div",{attrs:{slot:"btn"},slot:"btn"},[o("button",{staticClass:"btn btn-info btn-md",on:{click:function(t){e.addModal=!0}}},[o("i",{staticClass:"fas fa-plus"}),e._v(" "+e._s(e.trans("general.add_new")))])])])],e._v(" "),o("pagination-record",{attrs:{"page-length":e.filter.page_length,records:e.employee_accounts},on:{"update:pageLength":function(t){return e.$set(e.filter,"page_length",t)},"update:page-length":function(t){return e.$set(e.filter,"page_length",t)},updateRecords:e.getEmployeeAccounts},nativeOn:{change:function(t){return e.getEmployeeAccounts.apply(null,arguments)}}}),e._v(" "),e.addModal&&!e.readMode?o("create-account",{attrs:{employee:e.employee},on:{close:function(t){e.addModal=!1},completed:e.getEmployeeAccounts}}):e._e(),e._v(" "),e.editModal&&!e.readMode?o("edit-account",{attrs:{employee:e.employee,aid:e.editId},on:{close:function(t){e.editModal=!1},completed:e.getEmployeeAccounts}}):e._e(),e._v(" "),e.showModal?o("show-account",{attrs:{employee:e.employee,aid:e.showId},on:{close:function(t){e.showModal=!1}}}):e._e()],2)}),[],!1,null,null,null).exports},84124:(e,t,o)=>{"use strict";o.d(t,{Z:()=>y});const a={components:{},props:["uuid","did"],data:function(){return{designationForm:new Form({designation_id:"",department_id:"",date_effective:"",remarks:"",upload_token:""}),designations:[],selected_designation:null,departments:[],selected_department:null,module_id:"",clearAttachment:!0}},mounted:function(){this.designationForm.upload_token=this.$uuid.v4(),this.getPreRequisite(),this.did&&this.getDesignation()},methods:{proceed:function(){this.did?this.updateDesignation():this.storeDesignation()},getPreRequisite:function(){var e=this,t=this.$loading.show();axios.get("/api/employee/"+this.uuid+"/designation/pre-requisite").then((function(o){e.designations=o.designations,e.departments=o.departments,t.hide()})).catch((function(e){t.hide(),helper.showErrorMsg(e)}))},storeDesignation:function(){var e=this,t=this.$loading.show();this.designationForm.post("/api/employee/"+this.uuid+"/designation").then((function(o){toastr.success(o.message),e.clearAttachment=!e.clearAttachment,e.$emit("completed"),e.designationForm.upload_token=e.$uuid.v4(),t.hide()})).catch((function(e){t.hide(),helper.showErrorMsg(e)}))},getDesignation:function(){var e=this,t=this.$loading.show();axios.get("/api/employee/"+this.uuid+"/designation/"+this.did).then((function(o){e.designationForm.designation_id=o.employee_designation.designation_id,e.designationForm.department_id=o.employee_designation.department_id,e.designationForm.date_effective=o.employee_designation.date_effective,e.designationForm.remarks=o.employee_designation.remarks,e.selected_designation={id:o.employee_designation.designation_id,name:o.employee_designation.designation.name},e.selected_department=o.employee_designation.department_id?{id:o.employee_designation.department_id,name:o.employee_designation.department.name}:null,e.designationForm.upload_token=o.employee_designation.upload_token,e.module_id=o.employee_designation.id,e.$emit("loaded"),t.hide()})).catch((function(o){t.hide(),e.$router.push("/employee/"+e.uuid)}))},updateDesignation:function(){var e=this,t=this.$loading.show();this.designationForm.patch("/api/employee/"+this.uuid+"/designation/"+this.did).then((function(o){toastr.success(o.message),e.$emit("completed"),t.hide()})).catch((function(e){t.hide(),helper.showErrorMsg(e)}))},onDesignationSelect:function(e){this.designationForm.designation_id=e.id},onDepartmentSelect:function(e){this.designationForm.department_id=e.id}}};var n=o(51900);const s=(0,n.Z)(a,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("form",{on:{submit:function(t){return t.preventDefault(),e.proceed.apply(null,arguments)},keydown:function(t){return e.designationForm.errors.clear(t.target.name)}}},[o("div",{staticClass:"row"},[o("div",{staticClass:"col-12 col-sm-6"},[o("div",{staticClass:"form-group"},[o("label",{attrs:{for:""}},[e._v(e._s(e.trans("employee.designation")))]),e._v(" "),o("v-select",{attrs:{label:"name","group-values":"designations","group-label":"employee_category","group-select":!1,name:"designation_id",id:"designation_id",options:e.designations,placeholder:e.trans("employee.select_designation")},on:{select:e.onDesignationSelect,close:function(t){return e.designationForm.errors.clear("designation_id")},remove:function(t){e.designationForm.designation_id=""}},model:{value:e.selected_designation,callback:function(t){e.selected_designation=t},expression:"selected_designation"}},[e.designations.length?e._e():o("div",{staticClass:"multiselect__option",attrs:{slot:"afterList"},slot:"afterList"},[e._v("\n                        "+e._s(e.trans("general.no_option_found"))+"\n                    ")])]),e._v(" "),o("show-error",{attrs:{"form-name":e.designationForm,"prop-name":"designation_id"}})],1)]),e._v(" "),o("div",{staticClass:"col-12 col-sm-6"},[o("div",{staticClass:"form-group"},[o("label",{attrs:{for:""}},[e._v(e._s(e.trans("employee.department")))]),e._v(" "),o("v-select",{attrs:{label:"name",name:"department_id",id:"department_id",options:e.departments,placeholder:e.trans("employee.select_department")},on:{select:e.onDepartmentSelect,close:function(t){return e.designationForm.errors.clear("department_id")},remove:function(t){e.designationForm.department_id=""}},model:{value:e.selected_department,callback:function(t){e.selected_department=t},expression:"selected_department"}},[e.departments.length?e._e():o("div",{staticClass:"multiselect__option",attrs:{slot:"afterList"},slot:"afterList"},[e._v("\n                        "+e._s(e.trans("general.no_option_found"))+"\n                    ")])]),e._v(" "),o("show-error",{attrs:{"form-name":e.designationForm,"prop-name":"department_id"}})],1)]),e._v(" "),o("div",{staticClass:"col-12 col-sm-6"},[o("div",{staticClass:"form-group"},[o("label",{attrs:{for:""}},[e._v(e._s(e.trans("employee.date_effective")))]),e._v(" "),o("datepicker",{attrs:{bootstrapStyling:!0,placeholder:e.trans("employee.date_effective")},on:{selected:function(t){return e.designationForm.errors.clear("date_effective")}},model:{value:e.designationForm.date_effective,callback:function(t){e.$set(e.designationForm,"date_effective",t)},expression:"designationForm.date_effective"}}),e._v(" "),o("show-error",{attrs:{"form-name":e.designationForm,"prop-name":"date_effective"}})],1)]),e._v(" "),o("div",{staticClass:"col-12 col-sm-6"},[o("div",{staticClass:"form-group"},[o("label",{attrs:{for:""}},[e._v(e._s(e.trans("employee.remarks")))]),e._v(" "),o("autosize-textarea",{attrs:{rows:"1",name:"remarks",placeholder:e.trans("employee.remarks")},model:{value:e.designationForm.remarks,callback:function(t){e.$set(e.designationForm,"remarks",t)},expression:"designationForm.remarks"}}),e._v(" "),o("show-error",{attrs:{"form-name":e.designationForm,"prop-name":"remarks"}})],1)])]),e._v(" "),o("div",{staticClass:"form-group"},[o("file-upload-input",{attrs:{"button-text":e.trans("general.upload_document"),token:e.designationForm.upload_token,module:"employee_designation","clear-file":e.clearAttachment,"module-id":e.module_id}})],1),e._v(" "),o("div",{staticClass:"form-group"},[o("button",{staticClass:"btn btn-info pull-right"},[e._v(e._s(e.trans("general.save")))])]),e._v(" "),o("div",{staticClass:"clearfix"})])}),[],!1,null,null,null).exports,i={components:{designationForm:s},props:["employee"],methods:{complete:function(){this.$emit("completed"),this.$emit("close")}}};var r=o(93379),l=o.n(r),c=o(33989),m={insert:"head",singleton:!1};l()(c.Z,m);c.Z.locals;const d=(0,n.Z)(i,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("transition",{attrs:{name:"modal"}},[o("div",{staticClass:"modal-mask"},[o("div",{staticClass:"modal-wrapper"},[o("div",{staticClass:"modal-container modal-lg"},[o("div",{staticClass:"modal-header"},[e._t("header",(function(){return[e._v("\n                        "+e._s(e.trans("employee.add_new_designation"))+"\n                        "),o("span",{staticClass:"float-right pointer",on:{click:function(t){return e.$emit("close")}}},[e._v("x")])]}))],2),e._v(" "),o("div",{staticClass:"modal-body"},[e._t("body",(function(){return[o("designation-form",{attrs:{uuid:e.employee.uuid},on:{completed:e.complete}})]}))],2)])])])])}),[],!1,null,null,null).exports;const p={components:{designationForm:s},props:["employee","did"],methods:{complete:function(){this.$emit("completed"),this.$emit("close")}}};var u=o(5744),_={insert:"head",singleton:!1};l()(u.Z,_);u.Z.locals;const v={components:{},props:["employee","did"],mounted:function(){this.did&&this.getEmployeeDesignation()},data:function(){return{employee_designation:[],attachments:[]}},methods:{getEmployeeName:function(){return helper.getEmployeeName(this.employee)},getEmployeeDesignation:function(){var e=this,t=this.$loading.show();axios.get("/api/employee/"+this.employee.uuid+"/designation/"+this.did).then((function(o){e.employee_designation=o.employee_designation,e.attachments=o.attachments,t.hide()})).catch((function(e){t.hide(),helper.showErrorMsg(e)}))}},computed:{authToken:function(){return helper.getAuthToken()}},filters:{moment:function(e){return helper.formatDate(e)},momentDateTime:function(e){return helper.formatDateTime(e)}}};function f(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}const h={components:{createDesignation:d,editDesignation:(0,n.Z)(p,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("transition",{attrs:{name:"modal"}},[o("div",{staticClass:"modal-mask"},[o("div",{staticClass:"modal-wrapper"},[o("div",{staticClass:"modal-container modal-lg"},[o("div",{staticClass:"modal-header"},[e._t("header",(function(){return[e._v("\n                        "+e._s(e.trans("employee.edit_designation"))+"\n                        "),o("span",{staticClass:"float-right pointer",on:{click:function(t){return e.$emit("close")}}},[e._v("x")])]}))],2),e._v(" "),o("div",{staticClass:"modal-body"},[e._t("body",(function(){return[o("designation-form",{attrs:{uuid:e.employee.uuid,did:e.did},on:{completed:e.complete}})]}))],2)])])])])}),[],!1,null,null,null).exports,showDesignation:(0,n.Z)(v,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("transition",{attrs:{name:"modal"}},[o("div",{staticClass:"modal-mask"},[o("div",{staticClass:"modal-wrapper"},[o("div",{staticClass:"modal-container modal-lg"},[o("div",{staticClass:"modal-header"},[e.employee.id?e._t("header",(function(){return[e._v("\n                        "+e._s(e.getEmployeeName(e.employee))+"\n                        "),o("span",{staticClass:"float-right pointer",on:{click:function(t){return e.$emit("close")}}},[e._v("x")])]})):e._e()],2),e._v(" "),o("div",{staticClass:"modal-body"},[e._t("body",(function(){return[e.employee_designation.id?o("div",{staticClass:"table-responsive"},[o("table",{staticClass:"table custom-show-table"},[o("tbody",[o("tr",[o("td",[e._v(e._s(e.trans("employee.designation")))]),e._v(" "),o("td",[e._v(e._s(e.employee_designation.designation.name))])]),e._v(" "),o("tr",[o("td",[e._v(e._s(e.trans("employee.category")))]),e._v(" "),o("td",[e._v(e._s(e.employee_designation.designation.employee_category.name))])]),e._v(" "),o("tr",[o("td",[e._v(e._s(e.trans("employee.department")))]),e._v(" "),o("td",[e._v(e._s(e.employee_designation.department_id?e.employee_designation.department.name:"-"))])]),e._v(" "),o("tr",[o("td",[e._v(e._s(e.trans("employee.date_effective")))]),e._v(" "),o("td",[e._v(e._s(e._f("moment")(e.employee_designation.date_effective)))])]),e._v(" "),o("tr",[o("td",[e._v(e._s(e.trans("employee.remarks")))]),e._v(" "),o("td",[e._v(e._s(e.employee_designation.remarks))])])])])]):e._e(),e._v(" "),e.attachments.length?o("div",[o("ul",{staticClass:"m-t-10 upload-file-list"},e._l(e.attachments,(function(t){return o("li",{staticClass:"upload-file-list-item"},[o("a",{staticClass:"no-link-color",attrs:{href:"/employee/"+e.employee.uuid+"/designation/"+e.employee_designation.id+"/attachment/"+t.uuid+"/download?token="+e.authToken}},[o("i",{class:["file-icon","fas","fa-lg",t.file_info.icon]}),e._v(" "),o("span",{staticClass:"upload-file-list-item-size"},[e._v(e._s(t.file_info.size))]),e._v(" "+e._s(t.user_filename))])])})),0)]):e._e(),e._v(" "),o("hr"),e._v(" "),o("p",[o("i",{staticClass:"far fa-clock"}),e._v(" "),o("small",[e._v(e._s(e.trans("general.created_at"))+" "+e._s(e._f("momentDateTime")(e.employee_designation.created_at)))]),e._v(" "),o("span",{staticClass:"pull-right"},[o("i",{staticClass:"far fa-clock"}),e._v(" "),o("small",[e._v(e._s(e.trans("general.updated_at"))+" "+e._s(e._f("momentDateTime")(e.employee_designation.updated_at)))])])])]}))],2)])])])])}),[],!1,null,null,null).exports},props:{employee:{type:Object,default:function(){return{}}},readMode:{type:Boolean,default:!1}},data:function(){var e;return f(e={addModal:!1,showId:null,editId:null},"addModal",!1),f(e,"editModal",!1),f(e,"showModal",!1),e},methods:{editAction:function(e){this.editId=e.id,this.editModal=!0},showAction:function(e){this.showId=e.id,this.showModal=!0},confirmDelete:function(e){var t=this;return function(o){return t.deleteEmployeeDesignation(e)}},deleteEmployeeDesignation:function(e){var t=this,o=this.$loading.show();axios.delete("/api/employee/"+this.employee.uuid+"/designation/"+e.id).then((function(e){toastr.success(e.message),t.$emit("completed"),o.hide()})).catch((function(e){o.hide(),helper.showErrorMsg(e)}))}},computed:{canAddDesignation:function(){return this.employee.employee_terms.some((function(e){return null==e.date_of_leaving}))}},filters:{momentDateTime:function(e){return helper.formatDateTime(e)},moment:function(e){return helper.formatDate(e)}}};const y=(0,n.Z)(h,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[e.canAddDesignation&&!e.readMode?o("button",{staticClass:"btn btn-sm btn-info pull-right m-b-10",on:{click:function(t){e.addModal=!0}}},[o("i",{staticClass:"fas fa-plus"}),e._v(" "+e._s(e.trans("employee.add_new_designation")))]):e._e(),e._v(" "),e.employee.employee_designations?o("div",{staticClass:"table-responsive"},[o("table",{staticClass:"table table-sm"},[o("thead",[o("tr",[o("th",[e._v(e._s(e.trans("employee.designation")))]),e._v(" "),o("th",[e._v(e._s(e.trans("employee.category")))]),e._v(" "),o("th",[e._v(e._s(e.trans("employee.department")))]),e._v(" "),o("th",[e._v(e._s(e.trans("employee.date_effective")))]),e._v(" "),o("th",[e._v(e._s(e.trans("employee.date_end")))]),e._v(" "),o("th",{staticClass:"table-option"},[e._v(e._s(e.trans("general.action")))])])]),e._v(" "),o("tbody",e._l(e.employee.employee_designations,(function(t){return o("tr",[o("td",[e._v("\n                            "+e._s(t.designation.name)+"\n                        ")]),e._v(" "),o("td",{domProps:{textContent:e._s(t.designation.employee_category.name)}}),e._v(" "),o("td",{domProps:{textContent:e._s(t.department_id?t.department.name:"-")}}),e._v(" "),o("td",[e._v(e._s(e._f("moment")(t.date_effective)))]),e._v(" "),o("td",[t.date_end?o("span",[e._v(e._s(e._f("moment")(t.date_end)))]):o("span",[e._v("-")])]),e._v(" "),o("td",{staticClass:"table-option"},[o("div",{staticClass:"btn-group"},[e.$first(t,e.employee.employee_designations)&&!e.readMode?[o("button",{directives:[{name:"confirm",rawName:"v-confirm",value:{ok:e.confirmDelete(t)},expression:"{ok: confirmDelete(employee_designation)}"},{name:"tooltip",rawName:"v-tooltip",value:e.trans("employee.delete_designation"),expression:"trans('employee.delete_designation')"}],key:t.id,staticClass:"btn btn-danger btn-sm"},[o("i",{staticClass:"fas fa-trash"})]),e._v(" "),o("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.trans("employee.edit_designation"),expression:"trans('employee.edit_designation')"}],staticClass:"btn btn-info btn-sm",on:{click:function(o){return o.preventDefault(),e.editAction(t)}}},[o("i",{staticClass:"fas fa-edit"})])]:e._e(),e._v(" "),o("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.trans("employee.view_designation"),expression:"trans('employee.view_designation')"}],staticClass:"btn btn-success btn-sm",on:{click:function(o){return o.preventDefault(),e.showAction(t)}}},[o("i",{staticClass:"fas fa-arrow-circle-right"})])],2)])])})),0)])]):o("div",{staticClass:"font-80pc"},[e._v("\n            "+e._s(e.trans("general.no_result_found"))+"\n        ")]),e._v(" "),e.addModal&&e.canAddDesignation&&!e.readMode?o("create-designation",{attrs:{employee:e.employee},on:{close:function(t){e.addModal=!1},completed:function(t){return e.$emit("completed")}}}):e._e(),e._v(" "),e.editModal&&!e.readMode?o("edit-designation",{attrs:{employee:e.employee,did:e.editId},on:{close:function(t){e.editModal=!1},completed:function(t){return e.$emit("completed")}}}):e._e(),e._v(" "),e.showModal?o("show-designation",{attrs:{employee:e.employee,did:e.showId},on:{close:function(t){e.showModal=!1}}}):e._e()],1)}),[],!1,null,null,null).exports},17407:(e,t,o)=>{"use strict";o.d(t,{Z:()=>g});const a={components:{},data:function(){return{documentForm:new Form({title:"",employee_document_type_id:"",description:"",upload_token:""}),selected_employee_document_type:null,employee_document_types:[],module_id:"",clearAttachment:!0}},props:["uuid","did"],mounted:function(){this.documentForm.upload_token=this.$uuid.v4(),this.getPreRequisite(),this.did&&this.getDocument()},methods:{proceed:function(){this.did?this.updateDocument():this.storeDocument()},getPreRequisite:function(){var e=this,t=this.$loading.show();axios.get("/api/employee/"+this.uuid+"/document/pre-requisite").then((function(o){e.employee_document_types=o,t.hide()})).catch((function(e){t.hide(),helper.showErrorMsg(e)}))},storeDocument:function(){var e=this,t=this.$loading.show();this.documentForm.post("/api/employee/"+this.uuid+"/document").then((function(o){toastr.success(o.message),e.clearAttachment=!e.clearAttachment,e.$emit("completed"),e.selected_employee_document_type=null,e.documentForm.upload_token=e.$uuid.v4(),t.hide()})).catch((function(e){t.hide(),helper.showErrorMsg(e)}))},getDocument:function(){var e=this,t=this.$loading.show();axios.get("/api/employee/"+this.uuid+"/document/"+this.did).then((function(o){e.documentForm.title=o.employee_document.title,e.documentForm.employee_document_type_id=o.employee_document.employee_document_type_id,e.selected_employee_document_type={id:o.employee_document.employee_document_type_id,name:o.employee_document.employee_document_type.name},e.documentForm.description=o.employee_document.description,e.documentForm.upload_token=o.employee_document.upload_token,e.module_id=o.employee_document.id,e.$emit("loaded"),t.hide()})).catch((function(o){t.hide(),e.$router.push("/employee/"+e.uuid)}))},updateDocument:function(){var e=this,t=this.$loading.show();this.documentForm.patch("/api/employee/"+this.uuid+"/document/"+this.did).then((function(o){toastr.success(o.message),e.$emit("completed"),t.hide()})).catch((function(e){t.hide(),helper.showErrorMsg(e)}))},onDocumentTypeSelect:function(e){this.documentForm.employee_document_type_id=e.id}}};var n=o(51900);const s=(0,n.Z)(a,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("form",{on:{submit:function(t){return t.preventDefault(),e.proceed.apply(null,arguments)},keydown:function(t){return e.documentForm.errors.clear(t.target.name)}}},[o("div",{staticClass:"row"},[o("div",{staticClass:"col-12 col-sm-6"},[o("div",{staticClass:"form-group"},[o("label",{attrs:{for:""}},[e._v(e._s(e.trans("employee.document_title")))]),e._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.documentForm.title,expression:"documentForm.title"}],staticClass:"form-control",attrs:{type:"text",name:"title",placeholder:e.trans("employee.document_title")},domProps:{value:e.documentForm.title},on:{input:function(t){t.target.composing||e.$set(e.documentForm,"title",t.target.value)}}}),e._v(" "),o("show-error",{attrs:{"form-name":e.documentForm,"prop-name":"title"}})],1)]),e._v(" "),o("div",{staticClass:"col-12 col-sm-6"},[o("div",{staticClass:"form-group"},[o("label",{attrs:{for:""}},[e._v(e._s(e.trans("employee.document_type")))]),e._v(" "),o("v-select",{attrs:{label:"name",name:"employee_document_type_id",id:"employee_document_type_id",options:e.employee_document_types,placeholder:e.trans("general.select_one")},on:{select:e.onDocumentTypeSelect,close:function(t){return e.documentForm.errors.clear("employee_document_type_id")},remove:function(t){e.documentForm.employee_document_type_id=""}},model:{value:e.selected_employee_document_type,callback:function(t){e.selected_employee_document_type=t},expression:"selected_employee_document_type"}},[e.employee_document_types.length?e._e():o("div",{staticClass:"multiselect__option",attrs:{slot:"afterList"},slot:"afterList"},[e._v("\n                                "+e._s(e.trans("general.no_option_found"))+"\n                            ")])]),e._v(" "),o("show-error",{attrs:{"form-name":e.documentForm,"prop-name":"employee_document_type_id"}})],1)])]),e._v(" "),o("div",{staticClass:"form-group"},[o("autosize-textarea",{attrs:{rows:"2",name:"description",placeholder:e.trans("employee.document_description")},model:{value:e.documentForm.description,callback:function(t){e.$set(e.documentForm,"description",t)},expression:"documentForm.description"}}),e._v(" "),o("show-error",{attrs:{"form-name":e.documentForm,"prop-name":"description"}})],1),e._v(" "),o("div",{staticClass:"form-group"},[o("file-upload-input",{attrs:{"button-text":e.trans("general.upload_document"),token:e.documentForm.upload_token,module:"employee_document","clear-file":e.clearAttachment,"module-id":e.module_id}})],1),e._v(" "),o("button",{staticClass:"btn btn-info waves-effect waves-light pull-right",attrs:{type:"submit"}},[e.did?o("span",[e._v(e._s(e.trans("general.update")))]):o("span",[e._v(e._s(e.trans("general.save")))])])]),e._v(" "),o("div",{staticClass:"clearfix"})])}),[],!1,null,null,null).exports,i={components:{documentForm:s},props:["employee"],methods:{complete:function(){this.$emit("completed"),this.$emit("close")}}};var r=o(93379),l=o.n(r),c=o(69405),m={insert:"head",singleton:!1};l()(c.Z,m);c.Z.locals;const d=(0,n.Z)(i,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("transition",{attrs:{name:"modal"}},[o("div",{staticClass:"modal-mask"},[o("div",{staticClass:"modal-wrapper"},[o("div",{staticClass:"modal-container modal-lg"},[o("div",{staticClass:"modal-header"},[e._t("header",(function(){return[e._v("\n                        "+e._s(e.trans("employee.add_new_document"))+"\n                        "),o("span",{staticClass:"float-right pointer",on:{click:function(t){return e.$emit("close")}}},[e._v("x")])]}))],2),e._v(" "),o("div",{staticClass:"modal-body"},[e._t("body",(function(){return[o("document-form",{attrs:{uuid:e.employee.uuid},on:{completed:e.complete}})]}))],2)])])])])}),[],!1,null,null,null).exports;const p={components:{documentForm:s},props:["employee","did"],methods:{complete:function(){this.$emit("completed"),this.$emit("close")}}};var u=o(89078),_={insert:"head",singleton:!1};l()(u.Z,_);u.Z.locals;const v=(0,n.Z)(p,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("transition",{attrs:{name:"modal"}},[o("div",{staticClass:"modal-mask"},[o("div",{staticClass:"modal-wrapper"},[o("div",{staticClass:"modal-container modal-lg"},[o("div",{staticClass:"modal-header"},[e._t("header",(function(){return[e._v("\n                        "+e._s(e.trans("employee.edit_document"))+"\n                        "),o("span",{staticClass:"float-right pointer",on:{click:function(t){return e.$emit("close")}}},[e._v("x")])]}))],2),e._v(" "),o("div",{staticClass:"modal-body"},[e._t("body",(function(){return[o("document-form",{attrs:{uuid:e.employee.uuid,did:e.did},on:{completed:e.complete}})]}))],2)])])])])}),[],!1,null,null,null).exports;const f={components:{documentForm:s},props:["employee","did"],mounted:function(){this.did&&this.getEmployeeDocument()},data:function(){return{employee_document:[],documents:[]}},methods:{getEmployeeDocument:function(){var e=this,t=this.$loading.show();axios.get("/api/employee/"+this.employee.uuid+"/document/"+this.did).then((function(o){e.employee_document=o.employee_document,e.documents=o.documents,t.hide()})).catch((function(e){t.hide(),helper.showErrorMsg(e)}))}},computed:{authToken:function(){return helper.getAuthToken()}},filters:{momentDateTime:function(e){return helper.formatDateTime(e)}}};const h=(0,n.Z)(f,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("transition",{attrs:{name:"modal"}},[o("div",{staticClass:"modal-mask"},[o("div",{staticClass:"modal-wrapper"},[o("div",{staticClass:"modal-container modal-lg"},[o("div",{staticClass:"modal-header"},[e._t("header",(function(){return[e._v("\n                        "+e._s(e.trans("employee.view_document"))+"\n                        "),o("span",{staticClass:"float-right pointer",on:{click:function(t){return e.$emit("close")}}},[e._v("x")])]}))],2),e._v(" "),o("div",{staticClass:"modal-body"},[e._t("body",(function(){return[e.employee_document.employee_document_type?o("h4",{staticClass:"card-title"},[e._v(e._s(e.employee_document.title)+" ("+e._s(e.employee_document.employee_document_type.name)+")")]):e._e(),e._v(" "),o("div",{staticClass:"m-t-20",domProps:{innerHTML:e._s(e.employee_document.description)}}),e._v(" "),e.documents.length?o("div",[o("ul",{staticClass:"m-t-10 upload-file-list"},e._l(e.documents,(function(t){return o("li",{staticClass:"upload-file-list-item"},[o("a",{staticClass:"no-link-color",attrs:{href:"/employee/"+e.employee.uuid+"/document/"+e.employee_document.id+"/attachment/"+t.uuid+"/download?token="+e.authToken}},[o("i",{class:["file-icon","fas","fa-lg",t.file_info.icon]}),e._v(" "),o("span",{staticClass:"upload-file-list-item-size"},[e._v(e._s(t.file_info.size))]),e._v(" "+e._s(t.user_filename))])])})),0)]):e._e(),e._v(" "),o("hr"),e._v(" "),o("p",[o("i",{staticClass:"far fa-clock"}),e._v(" "),o("small",[e._v(e._s(e.trans("general.created_at"))+" "+e._s(e._f("momentDateTime")(e.employee_document.created_at)))]),e._v(" "),o("span",{staticClass:"pull-right"},[o("i",{staticClass:"far fa-clock"}),e._v(" "),o("small",[e._v(e._s(e.trans("general.updated_at"))+" "+e._s(e._f("momentDateTime")(e.employee_document.updated_at)))])])])]}))],2)])])])])}),[],!1,null,null,null).exports,y={props:{employee:{type:Object,default:function(){return{}}},readMode:{type:Boolean,default:!1}},components:{createDocument:d,editDocument:v,showDocument:h},data:function(){return{employee_documents:{total:0,data:[]},showId:null,editId:null,filter:{page_length:helper.getConfig("page_length")},addModal:!1,editModal:!1,showModal:!1}},mounted:function(){helper.hasPermission("list-employee")||(helper.notAccessibleMsg(),this.$router.push("/dashboard")),this.getEmployeeDocuments()},methods:{editAction:function(e){this.editId=e.id,this.editModal=!0},showAction:function(e){this.showId=e.id,this.showModal=!0},getEmployeeDocuments:function(e){var t=this,o=this.$loading.show();"number"!=typeof e&&(e=1);var a=helper.getFilterURL(this.filter);axios.get("/api/employee/"+this.employee.uuid+"/document?page="+e+a).then((function(e){t.employee_documents=e,o.hide()})).catch((function(e){o.hide(),helper.showErrorMsg(e)}))},confirmDelete:function(e){var t=this;return function(o){return t.deleteEmployeeDocument(e)}},deleteEmployeeDocument:function(e){var t=this,o=this.$loading.show();axios.delete("/api/employee/"+this.employee.uuid+"/document/"+e.id).then((function(e){toastr.success(e.message),t.getEmployeeDocuments(),o.hide()})).catch((function(e){o.hide(),helper.showErrorMsg(e)}))}},filters:{momentDateTime:function(e){return helper.formatDateTime(e)}},watch:{employee:function(e){this.getEmployeeDocuments()}}};const g=(0,n.Z)(y,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[e.readMode?e._e():o("button",{staticClass:"btn btn-sm btn-info pull-right",on:{click:function(t){e.addModal=!0}}},[o("i",{staticClass:"fas fa-plus"}),e._v(" "+e._s(e.trans("employee.add_new_document")))]),e._v(" "),e.employee_documents.total?o("div",{staticClass:"table-responsive"},[o("table",{staticClass:"table table-sm"},[o("thead",[o("tr",[o("th",[e._v(e._s(e.trans("employee.document_title")))]),e._v(" "),o("th",[e._v(e._s(e.trans("employee.document_type")))]),e._v(" "),o("th",[e._v(e._s(e.trans("general.updated_at")))]),e._v(" "),o("th",{staticClass:"table-option"},[e._v(e._s(e.trans("general.action")))])])]),e._v(" "),o("tbody",e._l(e.employee_documents.data,(function(t){return o("tr",[o("td",{domProps:{textContent:e._s(t.title)}}),e._v(" "),o("td",{domProps:{textContent:e._s(t.employee_document_type.name)}}),e._v(" "),o("td",[e._v(e._s(e._f("momentDateTime")(t.updated_at)))]),e._v(" "),o("td",{staticClass:"table-option"},[o("div",{staticClass:"btn-group"},[o("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.trans("employee.view_document"),expression:"trans('employee.view_document')"}],staticClass:"btn btn-success btn-sm",on:{click:function(o){return o.preventDefault(),e.showAction(t)}}},[o("i",{staticClass:"fas fa-arrow-circle-right"})]),e._v(" "),e.readMode?e._e():o("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.trans("employee.edit_document"),expression:"trans('employee.edit_document')"}],staticClass:"btn btn-info btn-sm",on:{click:function(o){return o.preventDefault(),e.editAction(t)}}},[o("i",{staticClass:"fas fa-edit"})]),e._v(" "),e.readMode?e._e():o("button",{directives:[{name:"confirm",rawName:"v-confirm",value:{ok:e.confirmDelete(t)},expression:"{ok: confirmDelete(employee_document)}"},{name:"tooltip",rawName:"v-tooltip",value:e.trans("employee.delete_document"),expression:"trans('employee.delete_document')"}],key:t.id,staticClass:"btn btn-danger btn-sm"},[o("i",{staticClass:"fas fa-trash"})])])])])})),0)])]):e._e(),e._v(" "),e.readMode?[e.employee_documents.total?e._e():o("div",{staticClass:"font-80pc"},[e._v(e._s(e.trans("general.no_result_found")))]),e._v(" "),o("div",[e._v(" ")])]:[e.employee_documents.total?e._e():o("module-info",{attrs:{module:"employee",title:"document_module_title",description:"document_module_description",icon:"list"}},[o("div",{attrs:{slot:"btn"},slot:"btn"},[o("button",{staticClass:"btn btn-info btn-md",on:{click:function(t){e.addModal=!0}}},[o("i",{staticClass:"fas fa-plus"}),e._v(" "+e._s(e.trans("general.add_new")))])])])],e._v(" "),o("pagination-record",{attrs:{"page-length":e.filter.page_length,records:e.employee_documents},on:{"update:pageLength":function(t){return e.$set(e.filter,"page_length",t)},"update:page-length":function(t){return e.$set(e.filter,"page_length",t)},updateRecords:e.getEmployeeDocuments},nativeOn:{change:function(t){return e.getEmployeeDocuments.apply(null,arguments)}}}),e._v(" "),e.addModal&&!e.readMode?o("create-document",{attrs:{employee:e.employee},on:{close:function(t){e.addModal=!1},completed:e.getEmployeeDocuments}}):e._e(),e._v(" "),e.editModal&&!e.readMode?o("edit-document",{attrs:{employee:e.employee,did:e.editId},on:{close:function(t){e.editModal=!1},completed:e.getEmployeeDocuments}}):e._e(),e._v(" "),e.showModal?o("show-document",{attrs:{employee:e.employee,did:e.showId},on:{close:function(t){e.showModal=!1}}}):e._e()],2)}),[],!1,null,null,null).exports},92034:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>f});const a={components:{},props:["employee"],data:function(){return{basicForm:new Form({first_name:"",middle_name:"",last_name:"",date_of_birth:"",date_of_anniversary:"",father_name:"",mother_name:"",marital_status:"",gender:"",mother_tongue:"",unique_identification_number:"",nationality:"",caste_id:"",category_id:"",religion_id:"",blood_group_id:"",custom_values:[],type:"basic"},!1),custom_fields:[],custom_values:[],castes:[],selected_caste:null,religions:[],selected_religion:null,blood_groups:[],selected_blood_group:null,categories:[],selected_category:null,genders:[],marital_statuses:[],customFieldFormErrors:{}}},mounted:function(){helper.hasPermission("edit-employee")||(helper.notAccessibleMsg(),this.$router.push("/dashboard")),this.getPreRequisite(),this.get(this.employee)},methods:{getPreRequisite:function(){var e=this,t=this.$loading.show();axios.get("/api/employee/basic/pre-requisite?form_type=employee_basic").then((function(o){e.castes=o.castes,e.religions=o.religions,e.blood_groups=o.blood_groups,e.categories=o.categories,e.genders=o.genders,e.marital_statuses=o.marital_statuses,e.custom_fields=o.custom_fields,t.hide()})).catch((function(e){t.hide(),helper.showErrorMsg(e)}))},updateCustomValues:function(e){this.basicForm.custom_values=e},get:function(e){this.basicForm.first_name=e.first_name,this.basicForm.middle_name=e.middle_name,this.basicForm.last_name=e.last_name,this.basicForm.date_of_birth=e.date_of_birth,this.basicForm.date_of_anniversary=e.date_of_anniversary,this.basicForm.father_name=e.father_name,this.basicForm.mother_name=e.mother_name,this.basicForm.nationality=e.nationality,this.basicForm.gender=e.gender,this.basicForm.marital_status=e.marital_status,this.basicForm.unique_identification_number=e.unique_identification_number,this.basicForm.mother_tongue=e.mother_tongue,this.basicForm.caste_id=e.caste_id,this.basicForm.category_id=e.category_id,this.basicForm.religion_id=e.religion_id,this.basicForm.blood_group_id=e.blood_group_id,this.selected_caste=e.caste_id?{id:e.caste_id,name:e.caste.name}:null,this.selected_category=e.category_id?{id:e.category_id,name:e.category.name}:null,this.selected_religion=e.religion_id?{id:e.religion_id,name:e.religion.name}:null,this.selected_blood_group=e.blood_group_id?{id:e.blood_group_id,name:e.blood_group.name}:null,this.custom_values=e.options&&e.options.hasOwnProperty("custom_values")?e.options.custom_values:[]},submit:function(){var e=this,t=this.$loading.show();this.basicForm.patch("/api/employee/"+this.employee.uuid).then((function(o){e.$emit("complete"),toastr.success(o.message),t.hide()})).catch((function(o){t.hide(),e.customFieldFormErrors=o,helper.showErrorMsg(o)}))},onCasteSelect:function(e){this.basicForm.caste_id=e.id},onCategorySelect:function(e){this.basicForm.category_id=e.id},onReligionSelect:function(e){this.basicForm.religion_id=e.id},onBloodGroupSelect:function(e){this.basicForm.blood_group_id=e.id}},watch:{employee:function(e){this.get(e)}}};var n=o(51900);const s=(0,n.Z)(a,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("form",{on:{submit:function(t){return t.preventDefault(),e.submit.apply(null,arguments)},keydown:function(t){return e.basicForm.errors.clear(t.target.name)}}},[o("div",{staticClass:"row"},[o("div",{staticClass:"col-12 col-sm-4"},[o("div",{staticClass:"form-group"},[o("label",{attrs:{for:""}},[e._v(e._s(e.trans("employee.first_name")))]),e._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.basicForm.first_name,expression:"basicForm.first_name"}],staticClass:"form-control",attrs:{type:"text",name:"first_name",placeholder:e.trans("employee.first_name")},domProps:{value:e.basicForm.first_name},on:{input:function(t){t.target.composing||e.$set(e.basicForm,"first_name",t.target.value)}}}),e._v(" "),o("show-error",{attrs:{"form-name":e.basicForm,"prop-name":"first_name"}})],1)]),e._v(" "),o("div",{staticClass:"col-12 col-sm-4"},[o("div",{staticClass:"form-group"},[o("label",{attrs:{for:""}},[e._v(e._s(e.trans("employee.middle_name")))]),e._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.basicForm.middle_name,expression:"basicForm.middle_name"}],staticClass:"form-control",attrs:{type:"text",name:"middle_name",placeholder:e.trans("employee.middle_name")},domProps:{value:e.basicForm.middle_name},on:{input:function(t){t.target.composing||e.$set(e.basicForm,"middle_name",t.target.value)}}}),e._v(" "),o("show-error",{attrs:{"form-name":e.basicForm,"prop-name":"middle_name"}})],1)]),e._v(" "),o("div",{staticClass:"col-12 col-sm-4"},[o("div",{staticClass:"form-group"},[o("label",{attrs:{for:""}},[e._v(e._s(e.trans("employee.last_name")))]),e._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.basicForm.last_name,expression:"basicForm.last_name"}],staticClass:"form-control",attrs:{type:"text",name:"last_name",placeholder:e.trans("employee.last_name")},domProps:{value:e.basicForm.last_name},on:{input:function(t){t.target.composing||e.$set(e.basicForm,"last_name",t.target.value)}}}),e._v(" "),o("show-error",{attrs:{"form-name":e.basicForm,"prop-name":"last_name"}})],1)]),e._v(" "),o("div",{staticClass:"col-12 col-sm-4"},[o("div",{staticClass:"form-group"},[o("label",{attrs:{for:""}},[e._v(e._s(e.trans("employee.gender")))]),e._v(" "),o("div",{staticClass:"radio radio-info p-l-0"},e._l(e.genders,(function(t){return o("div",{staticClass:"form-check form-check-inline "},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.basicForm.gender,expression:"basicForm.gender"}],staticClass:"form-check-input",attrs:{type:"radio",id:t.id,name:"gender"},domProps:{value:t.id,checked:e.basicForm.gender==t.id,checked:e._q(e.basicForm.gender,t.id)},on:{click:function(t){return e.basicForm.errors.clear("gender")},change:function(o){return e.$set(e.basicForm,"gender",t.id)}}}),e._v(" "),o("label",{staticClass:"form-check-label",attrs:{for:t.id}},[e._v(" "+e._s(e.trans("list."+t.id)))])])})),0),e._v(" "),o("show-error",{attrs:{"form-name":e.basicForm,"prop-name":"gender"}})],1)]),e._v(" "),o("div",{staticClass:"col-12 col-sm-4"},[o("div",{staticClass:"form-group"},[o("label",{attrs:{for:""}},[e._v(e._s(e.trans("employee.marital_status")))]),e._v(" "),o("select",{directives:[{name:"model",rawName:"v-model",value:e.basicForm.marital_status,expression:"basicForm.marital_status"}],staticClass:"custom-select col-12",attrs:{name:"marital_status",required:""},on:{change:[function(t){var o=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(e.basicForm,"marital_status",t.target.multiple?o:o[0])},function(t){return e.basicForm.errors.clear("marital_status")}]}},[o("option",{attrs:{value:"null",disabled:"",selected:""}},[e._v(e._s(e.trans("general.select_one")))]),e._v(" "),e._l(e.marital_statuses,(function(t){return o("option",{domProps:{value:t.id}},[e._v("\n                            "+e._s(e.trans("list."+t.id))+"\n                          ")])}))],2),e._v(" "),o("show-error",{attrs:{"form-name":e.basicForm,"prop-name":"marital_status"}})],1)]),e._v(" "),o("div",{staticClass:"col-12 col-sm-4"},[o("div",{staticClass:"form-group"},[o("label",{attrs:{for:""}},[e._v(e._s(e.trans("employee.date_of_birth")))]),e._v(" "),o("datepicker",{attrs:{bootstrapStyling:!0,placeholder:e.trans("employee.date_of_birth")},on:{selected:function(t){return e.basicForm.errors.clear("date_of_birth")}},model:{value:e.basicForm.date_of_birth,callback:function(t){e.$set(e.basicForm,"date_of_birth",t)},expression:"basicForm.date_of_birth"}}),e._v(" "),o("show-error",{attrs:{"form-name":e.basicForm,"prop-name":"date_of_birth"}})],1)]),e._v(" "),o("div",{staticClass:"col-12 col-sm-4"},[o("div",{staticClass:"form-group"},[o("label",{attrs:{for:""}},[e._v(e._s(e.trans("employee.date_of_anniversary")))]),e._v(" "),o("datepicker",{attrs:{bootstrapStyling:!0,placeholder:e.trans("employee.date_of_anniversary")},on:{selected:function(t){return e.basicForm.errors.clear("date_of_anniversary")}},model:{value:e.basicForm.date_of_anniversary,callback:function(t){e.$set(e.basicForm,"date_of_anniversary",t)},expression:"basicForm.date_of_anniversary"}}),e._v(" "),o("show-error",{attrs:{"form-name":e.basicForm,"prop-name":"date_of_anniversary"}})],1)]),e._v(" "),o("div",{staticClass:"col-12 col-sm-4"},[o("div",{staticClass:"form-group"},[o("label",{attrs:{for:""}},[e._v(e._s(e.trans("employee.unique_identification_number")))]),e._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.basicForm.unique_identification_number,expression:"basicForm.unique_identification_number"}],staticClass:"form-control",attrs:{type:"text",name:"unique_identification_number",placeholder:e.trans("employee.unique_identification_number")},domProps:{value:e.basicForm.unique_identification_number},on:{input:function(t){t.target.composing||e.$set(e.basicForm,"unique_identification_number",t.target.value)}}}),e._v(" "),o("show-error",{attrs:{"form-name":e.basicForm,"prop-name":"unique_identification_number"}})],1)]),e._v(" "),o("div",{staticClass:"col-12 col-sm-4"},[o("div",{staticClass:"form-group"},[o("label",{attrs:{for:""}},[e._v(e._s(e.trans("employee.father_name")))]),e._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.basicForm.father_name,expression:"basicForm.father_name"}],staticClass:"form-control",attrs:{type:"text",name:"father_name",placeholder:e.trans("employee.father_name")},domProps:{value:e.basicForm.father_name},on:{input:function(t){t.target.composing||e.$set(e.basicForm,"father_name",t.target.value)}}}),e._v(" "),o("show-error",{attrs:{"form-name":e.basicForm,"prop-name":"father_name"}})],1)]),e._v(" "),o("div",{staticClass:"col-12 col-sm-4"},[o("div",{staticClass:"form-group"},[o("label",{attrs:{for:""}},[e._v(e._s(e.trans("employee.mother_name")))]),e._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.basicForm.mother_name,expression:"basicForm.mother_name"}],staticClass:"form-control",attrs:{type:"text",name:"mother_name",placeholder:e.trans("employee.mother_name")},domProps:{value:e.basicForm.mother_name},on:{input:function(t){t.target.composing||e.$set(e.basicForm,"mother_name",t.target.value)}}}),e._v(" "),o("show-error",{attrs:{"form-name":e.basicForm,"prop-name":"mother_name"}})],1)]),e._v(" "),o("div",{staticClass:"col-12 col-sm-4"},[o("div",{staticClass:"form-group"},[o("label",{attrs:{for:""}},[e._v(e._s(e.trans("employee.nationality")))]),e._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.basicForm.nationality,expression:"basicForm.nationality"}],staticClass:"form-control",attrs:{type:"text",name:"nationality",placeholder:e.trans("employee.nationality")},domProps:{value:e.basicForm.nationality},on:{input:function(t){t.target.composing||e.$set(e.basicForm,"nationality",t.target.value)}}}),e._v(" "),o("show-error",{attrs:{"form-name":e.basicForm,"prop-name":"nationality"}})],1)]),e._v(" "),o("div",{staticClass:"col-12 col-sm-4"},[o("div",{staticClass:"form-group"},[o("label",{attrs:{for:""}},[e._v(e._s(e.trans("employee.mother_tongue")))]),e._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.basicForm.mother_tongue,expression:"basicForm.mother_tongue"}],staticClass:"form-control",attrs:{type:"text",name:"mother_tongue",placeholder:e.trans("employee.mother_tongue")},domProps:{value:e.basicForm.mother_tongue},on:{input:function(t){t.target.composing||e.$set(e.basicForm,"mother_tongue",t.target.value)}}}),e._v(" "),o("show-error",{attrs:{"form-name":e.basicForm,"prop-name":"mother_tongue"}})],1)]),e._v(" "),o("div",{staticClass:"col-12 col-sm-4"},[o("div",{staticClass:"form-group"},[o("label",{attrs:{for:""}},[e._v(e._s(e.trans("misc.caste")))]),e._v(" "),o("v-select",{attrs:{label:"name",name:"caste_id",id:"caste_id",options:e.castes,placeholder:e.trans("misc.select_caste")},on:{select:e.onCasteSelect,close:function(t){return e.basicForm.errors.clear("caste_id")},remove:function(t){e.basicForm.caste_id=""}},model:{value:e.selected_caste,callback:function(t){e.selected_caste=t},expression:"selected_caste"}},[e.castes.length?e._e():o("div",{staticClass:"multiselect__option",attrs:{slot:"afterList"},slot:"afterList"},[e._v("\n                                "+e._s(e.trans("general.no_option_found"))+"\n                            ")])]),e._v(" "),o("show-error",{attrs:{"form-name":e.basicForm,"prop-name":"caste_id"}})],1)]),e._v(" "),o("div",{staticClass:"col-12 col-sm-4"},[o("div",{staticClass:"form-group"},[o("label",{attrs:{for:""}},[e._v(e._s(e.trans("misc.category")))]),e._v(" "),o("v-select",{attrs:{label:"name",name:"category_id",id:"category_id",options:e.categories,placeholder:e.trans("misc.select_category")},on:{select:e.onCategorySelect,close:function(t){return e.basicForm.errors.clear("category_id")},remove:function(t){e.basicForm.category_id=""}},model:{value:e.selected_category,callback:function(t){e.selected_category=t},expression:"selected_category"}},[e.categories.length?e._e():o("div",{staticClass:"multiselect__option",attrs:{slot:"afterList"},slot:"afterList"},[e._v("\n                                "+e._s(e.trans("general.no_option_found"))+"\n                            ")])]),e._v(" "),o("show-error",{attrs:{"form-name":e.basicForm,"prop-name":"category_id"}})],1)]),e._v(" "),o("div",{staticClass:"col-12 col-sm-4"},[o("div",{staticClass:"form-group"},[o("label",{attrs:{for:""}},[e._v(e._s(e.trans("misc.religion")))]),e._v(" "),o("v-select",{attrs:{label:"name",name:"religion_id",id:"religion_id",options:e.religions,placeholder:e.trans("misc.select_religion")},on:{select:e.onReligionSelect,close:function(t){return e.basicForm.errors.clear("religion_id")},remove:function(t){e.basicForm.religion_id=""}},model:{value:e.selected_religion,callback:function(t){e.selected_religion=t},expression:"selected_religion"}},[e.religions.length?e._e():o("div",{staticClass:"multiselect__option",attrs:{slot:"afterList"},slot:"afterList"},[e._v("\n                                "+e._s(e.trans("general.no_option_found"))+"\n                            ")])]),e._v(" "),o("show-error",{attrs:{"form-name":e.basicForm,"prop-name":"religion_id"}})],1)]),e._v(" "),o("div",{staticClass:"col-12 col-sm-4"},[o("div",{staticClass:"form-group"},[o("label",{attrs:{for:""}},[e._v(e._s(e.trans("misc.blood_group")))]),e._v(" "),o("v-select",{attrs:{label:"name",name:"blood_group_id",id:"blood_group_id",options:e.blood_groups,placeholder:e.trans("misc.select_blood_group")},on:{select:e.onBloodGroupSelect,close:function(t){return e.basicForm.errors.clear("blood_group_id")},remove:function(t){e.basicForm.blood_group_id=""}},model:{value:e.selected_blood_group,callback:function(t){e.selected_blood_group=t},expression:"selected_blood_group"}},[e.blood_groups.length?e._e():o("div",{staticClass:"multiselect__option",attrs:{slot:"afterList"},slot:"afterList"},[e._v("\n                                "+e._s(e.trans("general.no_option_found"))+"\n                            ")])]),e._v(" "),o("show-error",{attrs:{"form-name":e.basicForm,"prop-name":"blood_group_id"}})],1)])]),e._v(" "),o("custom-field",{attrs:{fields:e.custom_fields,customValues:e.custom_values,formErrors:e.customFieldFormErrors},on:{updateCustomValues:e.updateCustomValues}}),e._v(" "),o("div",{staticClass:"card-footer text-right"},[o("button",{staticClass:"btn btn-info waves-effect waves-light",attrs:{type:"submit"}},[e._v(e._s(e.trans("general.save")))])])],1)])}),[],!1,null,null,null).exports;const i={components:{},props:["employee"],data:function(){return{contactForm:new Form({contact_number:"",email:"",present_address_line_1:"",present_address_line_2:"",present_city:"",present_state:"",present_zipcode:"",present_country:"",same_as_present_address:!1,permanent_address_line_1:"",permanent_address_line_2:"",permanent_city:"",permanent_state:"",permanent_zipcode:"",permanent_country:"",emergency_contact_name:"",emergency_contact_number:"",custom_values:[],type:"contact"},!1),custom_fields:[],custom_values:[],customFieldFormErrors:{}}},mounted:function(){helper.hasPermission("edit-employee")||(helper.notAccessibleMsg(),this.$router.push("/dashboard")),this.getPreRequisite()},methods:{getPreRequisite:function(){var e=this,t=this.$loading.show();axios.get("/api/employee/basic/pre-requisite?form_type=employee_contact").then((function(o){e.custom_fields=o.custom_fields,e.get(e.employee),t.hide()})).catch((function(e){t.hide(),helper.showErrorMsg(e)}))},updateCustomValues:function(e){this.contactForm.custom_values=e},updatePermanentAddress:function(){this.contactForm.permanent_address_line_1=this.contactForm.present_address_line_1,this.contactForm.permanent_address_line_2=this.contactForm.present_address_line_2,this.contactForm.permanent_city=this.contactForm.present_city,this.contactForm.permanent_state=this.contactForm.present_state,this.contactForm.permanent_zipcode=this.contactForm.present_zipcode,this.contactForm.permanent_country=this.contactForm.present_country},get:function(e){this.contactForm.contact_number=e.contact_number,this.contactForm.email=e.email,this.contactForm.present_address_line_1=e.present_address_line_1,this.contactForm.present_address_line_2=e.present_address_line_2,this.contactForm.present_city=e.present_city,this.contactForm.present_state=e.present_state,this.contactForm.present_zipcode=e.present_zipcode,this.contactForm.present_country=e.present_country,this.contactForm.same_as_present_address=e.same_as_present_address,this.contactForm.permanent_address_line_1=e.permanent_address_line_1,this.contactForm.permanent_address_line_2=e.permanent_address_line_2,this.contactForm.permanent_city=e.permanent_city,this.contactForm.permanent_state=e.permanent_state,this.contactForm.permanent_zipcode=e.permanent_zipcode,this.contactForm.permanent_country=e.permanent_country,this.contactForm.emergency_contact_name=e.emergency_contact_name,this.contactForm.emergency_contact_number=e.emergency_contact_number,this.custom_values=e.options&&e.options.hasOwnProperty("custom_values")?e.options.custom_values:[]},submit:function(){var e=this,t=this.$loading.show();this.contactForm.patch("/api/employee/"+this.employee.uuid).then((function(o){e.$emit("complete"),toastr.success(o.message),t.hide()})).catch((function(o){t.hide(),e.customFieldFormErrors=o,helper.showErrorMsg(o)}))}},watch:{employee:function(e){this.get(e)}}};const r=(0,n.Z)(i,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("form",{on:{submit:function(t){return t.preventDefault(),e.submit.apply(null,arguments)},keydown:function(t){return e.contactForm.errors.clear(t.target.name)}}},[o("div",{staticClass:"row"},[o("div",{staticClass:"col-12 col-sm-3"},[o("div",{staticClass:"form-group"},[o("label",{attrs:{for:""}},[e._v(e._s(e.trans("employee.contact_number")))]),e._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.contactForm.contact_number,expression:"contactForm.contact_number"}],staticClass:"form-control",attrs:{type:"text",name:"contact_number",placeholder:e.trans("employee.contact_number")},domProps:{value:e.contactForm.contact_number},on:{input:function(t){t.target.composing||e.$set(e.contactForm,"contact_number",t.target.value)}}}),e._v(" "),o("show-error",{attrs:{"form-name":e.contactForm,"prop-name":"contact_number"}})],1)]),e._v(" "),o("div",{staticClass:"col-12 col-sm-3"},[o("div",{staticClass:"form-group"},[o("label",{attrs:{for:""}},[o("small",[e._v(e._s(e.trans("employee.alternate_contact_number")))])]),e._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.contactForm.alternate_contact_number,expression:"contactForm.alternate_contact_number"}],staticClass:"form-control",attrs:{type:"text",name:"alternate_contact_number",placeholder:e.trans("employee.alternate_contact_number")},domProps:{value:e.contactForm.alternate_contact_number},on:{input:function(t){t.target.composing||e.$set(e.contactForm,"alternate_contact_number",t.target.value)}}}),e._v(" "),o("show-error",{attrs:{"form-name":e.contactForm,"prop-name":"alternate_contact_number"}})],1)]),e._v(" "),o("div",{staticClass:"col-12 col-sm-3"},[o("div",{staticClass:"form-group"},[o("label",{attrs:{for:""}},[e._v(e._s(e.trans("employee.email")))]),e._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.contactForm.email,expression:"contactForm.email"}],staticClass:"form-control",attrs:{type:"text",name:"email",placeholder:e.trans("employee.email")},domProps:{value:e.contactForm.email},on:{input:function(t){t.target.composing||e.$set(e.contactForm,"email",t.target.value)}}}),e._v(" "),o("show-error",{attrs:{"form-name":e.contactForm,"prop-name":"email"}})],1)]),e._v(" "),o("div",{staticClass:"col-12 col-sm-3"},[o("div",{staticClass:"form-group"},[o("label",{attrs:{for:""}},[o("small",[e._v(e._s(e.trans("employee.alternate_email")))])]),e._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.contactForm.alternate_email,expression:"contactForm.alternate_email"}],staticClass:"form-control",attrs:{type:"text",name:"alternate_email",placeholder:e.trans("employee.alternate_email")},domProps:{value:e.contactForm.alternate_email},on:{input:function(t){t.target.composing||e.$set(e.contactForm,"alternate_email",t.target.value)}}}),e._v(" "),o("show-error",{attrs:{"form-name":e.contactForm,"prop-name":"alternate_email"}})],1)])]),e._v(" "),o("hr"),e._v(" "),o("h5",{staticClass:"card-title m-t-30"},[e._v(e._s(e.trans("employee.emergency_contact")))]),e._v(" "),o("div",{staticClass:"row"},[o("div",{staticClass:"col-12 col-sm-4"},[o("div",{staticClass:"form-group"},[o("label",{attrs:{for:""}},[e._v(e._s(e.trans("employee.emergency_contact_name")))]),e._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.contactForm.emergency_contact_name,expression:"contactForm.emergency_contact_name"}],staticClass:"form-control",attrs:{type:"text",name:"emergency_contact_name",placeholder:e.trans("employee.emergency_contact_name")},domProps:{value:e.contactForm.emergency_contact_name},on:{input:function(t){t.target.composing||e.$set(e.contactForm,"emergency_contact_name",t.target.value)}}}),e._v(" "),o("show-error",{attrs:{"form-name":e.contactForm,"prop-name":"emergency_contact_name"}})],1)]),e._v(" "),o("div",{staticClass:"col-12 col-sm-4"},[o("div",{staticClass:"form-group"},[o("label",{attrs:{for:""}},[e._v(e._s(e.trans("employee.emergency_contact_number")))]),e._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.contactForm.emergency_contact_number,expression:"contactForm.emergency_contact_number"}],staticClass:"form-control",attrs:{type:"text",name:"emergency_contact_number",placeholder:e.trans("employee.emergency_contact_number")},domProps:{value:e.contactForm.emergency_contact_number},on:{input:function(t){t.target.composing||e.$set(e.contactForm,"emergency_contact_number",t.target.value)}}}),e._v(" "),o("show-error",{attrs:{"form-name":e.contactForm,"prop-name":"emergency_contact_number"}})],1)])]),e._v(" "),o("hr"),e._v(" "),o("h5",{staticClass:"card-title m-t-30"},[e._v(e._s(e.trans("employee.present_address")))]),e._v(" "),o("div",{staticClass:"row"},[o("div",{staticClass:"col-12 col-sm-4"},[o("div",{staticClass:"form-group"},[o("label",{attrs:{for:""}},[e._v(e._s(e.trans("employee.address_line_1")))]),e._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.contactForm.present_address_line_1,expression:"contactForm.present_address_line_1"}],staticClass:"form-control",attrs:{type:"text",name:"present_address_line_1",placeholder:e.trans("employee.address_line_1")},domProps:{value:e.contactForm.present_address_line_1},on:{input:function(t){t.target.composing||e.$set(e.contactForm,"present_address_line_1",t.target.value)}}}),e._v(" "),o("show-error",{attrs:{"form-name":e.contactForm,"prop-name":"present_address_line_1"}})],1)]),e._v(" "),o("div",{staticClass:"col-12 col-sm-4"},[o("div",{staticClass:"form-group"},[o("label",{attrs:{for:""}},[e._v(e._s(e.trans("employee.address_line_2")))]),e._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.contactForm.present_address_line_2,expression:"contactForm.present_address_line_2"}],staticClass:"form-control",attrs:{type:"text",name:"present_address_line_2",placeholder:e.trans("employee.address_line_2")},domProps:{value:e.contactForm.present_address_line_2},on:{input:function(t){t.target.composing||e.$set(e.contactForm,"present_address_line_2",t.target.value)}}}),e._v(" "),o("show-error",{attrs:{"form-name":e.contactForm,"prop-name":"present_address_line_2"}})],1)]),e._v(" "),o("div",{staticClass:"col-12 col-sm-4"},[o("div",{staticClass:"form-group"},[o("label",{attrs:{for:""}},[e._v(e._s(e.trans("employee.city")))]),e._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.contactForm.present_city,expression:"contactForm.present_city"}],staticClass:"form-control",attrs:{type:"text",name:"present_city",placeholder:e.trans("employee.city")},domProps:{value:e.contactForm.present_city},on:{input:function(t){t.target.composing||e.$set(e.contactForm,"present_city",t.target.value)}}}),e._v(" "),o("show-error",{attrs:{"form-name":e.contactForm,"prop-name":"present_city"}})],1)]),e._v(" "),o("div",{staticClass:"col-12 col-sm-4"},[o("div",{staticClass:"form-group"},[o("label",{attrs:{for:""}},[e._v(e._s(e.trans("employee.state")))]),e._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.contactForm.present_state,expression:"contactForm.present_state"}],staticClass:"form-control",attrs:{type:"text",name:"present_state",placeholder:e.trans("employee.state")},domProps:{value:e.contactForm.present_state},on:{input:function(t){t.target.composing||e.$set(e.contactForm,"present_state",t.target.value)}}}),e._v(" "),o("show-error",{attrs:{"form-name":e.contactForm,"prop-name":"present_state"}})],1)]),e._v(" "),o("div",{staticClass:"col-12 col-sm-4"},[o("div",{staticClass:"form-group"},[o("label",{attrs:{for:""}},[e._v(e._s(e.trans("employee.zipcode")))]),e._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.contactForm.present_zipcode,expression:"contactForm.present_zipcode"}],staticClass:"form-control",attrs:{type:"text",name:"present_zipcode",placeholder:e.trans("employee.zipcode")},domProps:{value:e.contactForm.present_zipcode},on:{input:function(t){t.target.composing||e.$set(e.contactForm,"present_zipcode",t.target.value)}}}),e._v(" "),o("show-error",{attrs:{"form-name":e.contactForm,"prop-name":"present_zipcode"}})],1)]),e._v(" "),o("div",{staticClass:"col-12 col-sm-4"},[o("div",{staticClass:"form-group"},[o("label",{attrs:{for:""}},[e._v(e._s(e.trans("employee.country")))]),e._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.contactForm.present_country,expression:"contactForm.present_country"}],staticClass:"form-control",attrs:{type:"text",name:"present_country",placeholder:e.trans("employee.country")},domProps:{value:e.contactForm.present_country},on:{input:function(t){t.target.composing||e.$set(e.contactForm,"present_country",t.target.value)}}}),e._v(" "),o("show-error",{attrs:{"form-name":e.contactForm,"prop-name":"present_country"}})],1)])]),e._v(" "),o("hr"),e._v(" "),o("h5",{staticClass:"card-title m-t-30"},[e._v(e._s(e.trans("employee.permanent_address")))]),e._v(" "),o("div",{staticClass:"form-group"},[o("switches",{staticClass:"m-l-20",attrs:{theme:"bootstrap",color:"success"},nativeOn:{change:function(t){return e.updatePermanentAddress.apply(null,arguments)}},model:{value:e.contactForm.same_as_present_address,callback:function(t){e.$set(e.contactForm,"same_as_present_address",t)},expression:"contactForm.same_as_present_address"}}),e._v(" "+e._s(e.trans("employee.same_as_present_address"))+"\n\t        ")],1),e._v(" "),e.contactForm.same_as_present_address?e._e():o("div",{staticClass:"row"},[o("div",{staticClass:"col-12 col-sm-4"},[o("div",{staticClass:"form-group"},[o("label",{attrs:{for:""}},[e._v(e._s(e.trans("employee.address_line_1")))]),e._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.contactForm.permanent_address_line_1,expression:"contactForm.permanent_address_line_1"}],staticClass:"form-control",attrs:{type:"text",name:"permanent_address_line_1",placeholder:e.trans("employee.address_line_1")},domProps:{value:e.contactForm.permanent_address_line_1},on:{input:function(t){t.target.composing||e.$set(e.contactForm,"permanent_address_line_1",t.target.value)}}}),e._v(" "),o("show-error",{attrs:{"form-name":e.contactForm,"prop-name":"permanent_address_line_1"}})],1)]),e._v(" "),o("div",{staticClass:"col-12 col-sm-4"},[o("div",{staticClass:"form-group"},[o("label",{attrs:{for:""}},[e._v(e._s(e.trans("employee.address_line_2")))]),e._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.contactForm.permanent_address_line_2,expression:"contactForm.permanent_address_line_2"}],staticClass:"form-control",attrs:{type:"text",name:"permanent_address_line_2",placeholder:e.trans("employee.address_line_2")},domProps:{value:e.contactForm.permanent_address_line_2},on:{input:function(t){t.target.composing||e.$set(e.contactForm,"permanent_address_line_2",t.target.value)}}}),e._v(" "),o("show-error",{attrs:{"form-name":e.contactForm,"prop-name":"permanent_address_line_2"}})],1)]),e._v(" "),o("div",{staticClass:"col-12 col-sm-4"},[o("div",{staticClass:"form-group"},[o("label",{attrs:{for:""}},[e._v(e._s(e.trans("employee.city")))]),e._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.contactForm.permanent_city,expression:"contactForm.permanent_city"}],staticClass:"form-control",attrs:{type:"text",name:"permanent_city",placeholder:e.trans("employee.city")},domProps:{value:e.contactForm.permanent_city},on:{input:function(t){t.target.composing||e.$set(e.contactForm,"permanent_city",t.target.value)}}}),e._v(" "),o("show-error",{attrs:{"form-name":e.contactForm,"prop-name":"permanent_city"}})],1)]),e._v(" "),o("div",{staticClass:"col-12 col-sm-4"},[o("div",{staticClass:"form-group"},[o("label",{attrs:{for:""}},[e._v(e._s(e.trans("employee.state")))]),e._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.contactForm.permanent_state,expression:"contactForm.permanent_state"}],staticClass:"form-control",attrs:{type:"text",name:"permanent_state",placeholder:e.trans("employee.state")},domProps:{value:e.contactForm.permanent_state},on:{input:function(t){t.target.composing||e.$set(e.contactForm,"permanent_state",t.target.value)}}}),e._v(" "),o("show-error",{attrs:{"form-name":e.contactForm,"prop-name":"permanent_state"}})],1)]),e._v(" "),o("div",{staticClass:"col-12 col-sm-4"},[o("div",{staticClass:"form-group"},[o("label",{attrs:{for:""}},[e._v(e._s(e.trans("employee.zipcode")))]),e._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.contactForm.permanent_zipcode,expression:"contactForm.permanent_zipcode"}],staticClass:"form-control",attrs:{type:"text",name:"permanent_zipcode",placeholder:e.trans("employee.zipcode")},domProps:{value:e.contactForm.permanent_zipcode},on:{input:function(t){t.target.composing||e.$set(e.contactForm,"permanent_zipcode",t.target.value)}}}),e._v(" "),o("show-error",{attrs:{"form-name":e.contactForm,"prop-name":"permanent_zipcode"}})],1)]),e._v(" "),o("div",{staticClass:"col-12 col-sm-4"},[o("div",{staticClass:"form-group"},[o("label",{attrs:{for:""}},[e._v(e._s(e.trans("employee.country")))]),e._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.contactForm.permanent_country,expression:"contactForm.permanent_country"}],staticClass:"form-control",attrs:{type:"text",name:"permanent_country",placeholder:e.trans("employee.country")},domProps:{value:e.contactForm.permanent_country},on:{input:function(t){t.target.composing||e.$set(e.contactForm,"permanent_country",t.target.value)}}}),e._v(" "),o("show-error",{attrs:{"form-name":e.contactForm,"prop-name":"permanent_country"}})],1)])]),e._v(" "),o("custom-field",{attrs:{fields:e.custom_fields,customValues:e.custom_values,formErrors:e.customFieldFormErrors},on:{updateCustomValues:e.updateCustomValues}}),e._v(" "),o("div",{staticClass:"card-footer text-right"},[o("button",{staticClass:"btn btn-info waves-effect waves-light",attrs:{type:"submit"}},[e._v(e._s(e.trans("general.save")))])])],1)])}),[],!1,null,null,null).exports;var l=o(17407),c=o(40969),m=o(84124),d=o(19892),p=o(50653);const u={components:{},props:["employee"],data:function(){return{userForm:new Form({enable_employee_login:!1,change_employee_password:!0,employee_email:"",employee_username:"",employee_password:"",employee_password_confirmation:"",role:""}),roles:[],selected_role:null}},mounted:function(){this.updateLoginForm(this.employee),this.getPreRequisite()},methods:{getPreRequisite:function(){var e=this,t=this.$loading.show();axios.get("/api/role/employee/list").then((function(o){e.roles=o,t.hide()})).catch((function(e){t.hide(),helper.showErrorMsg(e)}))},submit:function(){var e=this,t=this.$loading.show();this.userForm.patch("/api/employee/"+this.employee.uuid+"/user/login").then((function(o){toastr.success(o.message),e.userForm.change_employee_password=!0,e.$emit("completed"),t.hide()})).catch((function(e){t.hide(),helper.showErrorMsg(e)}))},updateLoginForm:function(e){var t=e.user_id?e.user.roles[0].name:null;this.userForm.enable_employee_login=!(!e.user_id||"activated"!=e.user.status),this.userForm.employee_email=e.user_id?e.user.email:"",this.userForm.employee_username=e.user_id?e.user.username:"",this.userForm.role=t&&e.user_id?helper.ucword(t):"",this.selected_role=t&&e.user_id?{id:e.user.roles[0].id,name:helper.ucword(t)}:null},onRoleSelect:function(e){this.userForm.role=e.name}},watch:{employee:function(e){this.updateLoginForm(e)}}};const _=(0,n.Z)(u,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return e.employee.id?o("div",[o("form",{on:{submit:function(t){return t.preventDefault(),e.submit.apply(null,arguments)},keydown:function(t){return e.userForm.errors.clear(t.target.name)}}},[o("div",{staticClass:"row"},[o("div",{staticClass:"col-12 col-sm-6"},[o("div",{staticClass:"form-group"},[o("label",{staticClass:"custom-control custom-checkbox"},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.userForm.enable_employee_login,expression:"userForm.enable_employee_login"}],staticClass:"custom-control-input",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.userForm.enable_employee_login)?e._i(e.userForm.enable_employee_login,null)>-1:e.userForm.enable_employee_login},on:{change:function(t){var o=e.userForm.enable_employee_login,a=t.target,n=!!a.checked;if(Array.isArray(o)){var s=e._i(o,null);a.checked?s<0&&e.$set(e.userForm,"enable_employee_login",o.concat([null])):s>-1&&e.$set(e.userForm,"enable_employee_login",o.slice(0,s).concat(o.slice(s+1)))}else e.$set(e.userForm,"enable_employee_login",n)}}}),e._v(" "),o("span",{staticClass:"custom-control-label"},[e._v(e._s(e.trans("employee.enable_employee_login")))])])]),e._v(" "),e.userForm.enable_employee_login?[o("div",{staticClass:"form-group"},[o("label",{attrs:{for:""}},[e._v(e._s(e.trans("configuration.role")))]),e._v(" "),o("v-select",{attrs:{label:"name",name:"role",id:"role",options:e.roles,placeholder:e.trans("configuration.select_role")},on:{select:e.onRoleSelect,close:function(t){return e.userForm.errors.clear("role")},remove:function(t){e.userForm.role=""}},model:{value:e.selected_role,callback:function(t){e.selected_role=t},expression:"selected_role"}},[e.roles.length?e._e():o("div",{staticClass:"multiselect__option",attrs:{slot:"afterList"},slot:"afterList"},[e._v("\n\t\t                            "+e._s(e.trans("general.no_option_found"))+"\n\t\t                        ")])]),e._v(" "),o("show-error",{attrs:{"form-name":e.userForm,"prop-name":"role"}})],1),e._v(" "),o("div",{staticClass:"form-group"},[o("label",{attrs:{for:""}},[e._v(e._s(e.trans("auth.email")))]),e._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.userForm.employee_email,expression:"userForm.employee_email"}],staticClass:"form-control",attrs:{type:"text",name:"employee_email",placeholder:e.trans("employee.employee_email")},domProps:{value:e.userForm.employee_email},on:{input:function(t){t.target.composing||e.$set(e.userForm,"employee_email",t.target.value)}}}),e._v(" "),o("show-error",{attrs:{"form-name":e.userForm,"prop-name":"employee_email"}})],1),e._v(" "),o("div",{staticClass:"form-group"},[o("label",{attrs:{for:""}},[e._v(e._s(e.trans("auth.username")))]),e._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.userForm.employee_username,expression:"userForm.employee_username"}],staticClass:"form-control",attrs:{type:"text",name:"employee_username",placeholder:e.trans("employee.employee_username")},domProps:{value:e.userForm.employee_username},on:{input:function(t){t.target.composing||e.$set(e.userForm,"employee_username",t.target.value)}}}),e._v(" "),o("show-error",{attrs:{"form-name":e.userForm,"prop-name":"employee_username"}})],1),e._v(" "),e.employee.user_id?o("div",{staticClass:"form-group"},[o("label",{staticClass:"custom-control custom-checkbox"},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.userForm.change_employee_password,expression:"userForm.change_employee_password"}],staticClass:"custom-control-input",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.userForm.change_employee_password)?e._i(e.userForm.change_employee_password,null)>-1:e.userForm.change_employee_password},on:{change:function(t){var o=e.userForm.change_employee_password,a=t.target,n=!!a.checked;if(Array.isArray(o)){var s=e._i(o,null);a.checked?s<0&&e.$set(e.userForm,"change_employee_password",o.concat([null])):s>-1&&e.$set(e.userForm,"change_employee_password",o.slice(0,s).concat(o.slice(s+1)))}else e.$set(e.userForm,"change_employee_password",n)}}}),e._v(" "),o("span",{staticClass:"custom-control-label"},[e._v(e._s(e.trans("auth.change_password")))])])]):e._e(),e._v(" "),e.userForm.change_employee_password?[o("div",{staticClass:"form-group"},[o("label",{attrs:{for:""}},[e._v(e._s(e.trans("auth.password")))]),e._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.userForm.employee_password,expression:"userForm.employee_password"}],staticClass:"form-control",attrs:{type:"password",name:"employee_password",placeholder:e.trans("employee.employee_password")},domProps:{value:e.userForm.employee_password},on:{input:function(t){t.target.composing||e.$set(e.userForm,"employee_password",t.target.value)}}}),e._v(" "),o("show-error",{attrs:{"form-name":e.userForm,"prop-name":"employee_password"}})],1),e._v(" "),o("div",{staticClass:"form-group"},[o("label",{attrs:{for:""}},[e._v(e._s(e.trans("auth.confirm_password")))]),e._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.userForm.employee_password_confirmation,expression:"userForm.employee_password_confirmation"}],staticClass:"form-control",attrs:{type:"password",name:"employee_password_confirmation",placeholder:e.trans("auth.confirm_password")},domProps:{value:e.userForm.employee_password_confirmation},on:{input:function(t){t.target.composing||e.$set(e.userForm,"employee_password_confirmation",t.target.value)}}}),e._v(" "),o("show-error",{attrs:{"form-name":e.userForm,"prop-name":"employee_password_confirmation"}})],1)]:e._e()]:e._e()],2)]),e._v(" "),o("div",{staticClass:"card-footer text-right"},[o("button",{staticClass:"btn btn-info",attrs:{type:"submit"}},[e._v(e._s(e.trans("general.save")))])])])]):e._e()}),[],!1,null,null,null).exports,v={components:{basicForm:s,contactForm:r,documentDetail:l.Z,accountDetail:c.Z,qualificationDetail:p.Z,designationDetail:m.Z,termDetail:d.Z,loginDetail:_},data:function(){return{uuid:this.$route.params.uuid,employee:{},photo:"",tab:""}},mounted:function(){helper.hasPermission("edit-employee")||(helper.notAccessibleMsg(),this.$router.push("/dashboard")),this.getEmployee(),helper.showDemoNotification(["employee"])},methods:{getEmployee:function(){var e=this,t=this.$loading.show();axios.get("/api/employee/"+this.uuid).then((function(o){e.employee=o,e.photo=e.employee.photo,t.hide()})).catch((function(o){t.hide(),helper.showErrorMsg(o),e.$router.push("/dashboard")}))},getEmployeeName:function(){return helper.getEmployeeName(this.employee)},updatePhoto:function(e){},getStatus:function(e){var t=e.employee_terms;return t.length&&t[0].date_of_joining<=helper.today()&&(!t[0].date_of_leaving||t[0].date_of_leaving>=helper.today())?'<span class="label label-success">'+i18n.employee.status_active+"</span>":'<span class="label label-danger">'+i18n.employee.status_inactive+"</span>"}},filters:{moment:function(e){return helper.formatDate(e)},momentDateTime:function(e){return helper.formatDateTime(e)}},watch:{"$route.params.uuid":function(e){this.uuid=e,this.getEmployee()}}};const f=(0,n.Z)(v,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[e.employee.id?o("div",{staticClass:"page-titles"},[o("div",{staticClass:"row"},[o("div",{staticClass:"col-12 col-sm-6"},[o("h3",{staticClass:"text-themecolor"},[e._v(e._s(e.trans("employee.employee_detail"))+"\n                    "),o("span",{staticClass:"card-subtitle"},[e._v(e._s(e.getEmployeeName(e.employee)))])])]),e._v(" "),o("div",{staticClass:"col-12 col-sm-6"},[o("div",{staticClass:"action-buttons pull-right"},[o("router-link",{staticClass:"btn btn-info btn-sm",attrs:{to:"/employee/card-view"}},[o("i",{staticClass:"fas fa-list"}),e._v(" "),o("span",{staticClass:"d-none d-sm-inline"},[e._v(e._s(e.trans("employee.employee")))])])],1)])])]):e._e(),e._v(" "),o("div",{staticClass:"container-fluid"},[o("div",{staticClass:"row"},[o("div",{staticClass:"col-12 col-sm-8 p-0"},[e.employee.id?o("div",{staticClass:"accordion",attrs:{id:"accordion"}},[o("div",{staticClass:"card",staticStyle:{overflow:"visible"}},[o("div",{staticClass:"card-header collapsed",attrs:{id:"basic","data-toggle":"collapse","data-target":"#collapseBasic","aria-expanded":"false","aria-controls":"collapseBasic"},on:{click:function(t){e.tab="basic"}}},[o("h5",[o("i",{staticClass:"fas fa-lg fa-graduation-cap fa-fix-w-32"}),e._v(" "+e._s(e.trans("employee.basic_information")))])]),e._v(" "),o("div",{staticClass:"collapse",attrs:{id:"collapseBasic","aria-labelledby":"basic","data-parent":"#accordion"}},[o("div",{staticClass:"card-body"},["basic"==e.tab?o("basic-form",{attrs:{employee:e.employee},on:{complete:e.getEmployee}}):e._e()],1)])]),e._v(" "),o("div",{staticClass:"card",staticStyle:{overflow:"visible"}},[o("div",{staticClass:"card-header collapsed",attrs:{id:"contact","data-toggle":"collapse","data-target":"#collapseContact","aria-expanded":"false","aria-controls":"collapseContact"},on:{click:function(t){e.tab="contact"}}},[o("h5",[o("i",{staticClass:"fas fa-lg fa-address-book fa-fix-w-32"}),e._v(" "+e._s(e.trans("employee.contact_information")))])]),e._v(" "),o("div",{staticClass:"collapse",attrs:{id:"collapseContact","aria-labelledby":"contact","data-parent":"#accordion"}},[o("div",{staticClass:"card-body"},["contact"==e.tab?o("contact-form",{attrs:{employee:e.employee},on:{complete:e.getEmployee}}):e._e()],1)])]),e._v(" "),o("div",{staticClass:"card",staticStyle:{overflow:"visible"}},[o("div",{staticClass:"card-header collapsed",attrs:{id:"document","data-toggle":"collapse","data-target":"#collapseDocument","aria-expanded":"false","aria-controls":"collapseDocument"},on:{click:function(t){e.tab="document"}}},[o("h5",[o("i",{staticClass:"fas fa-lg fa-folder fa-fix-w-32"}),e._v(" "+e._s(e.trans("employee.document_information")))])]),e._v(" "),o("div",{staticClass:"collapse",attrs:{id:"collapseDocument","aria-labelledby":"document","data-parent":"#accordion"}},[o("div",{staticClass:"card-body"},["document"==e.tab?o("document-detail",{attrs:{employee:e.employee}}):e._e()],1)])]),e._v(" "),o("div",{staticClass:"card",staticStyle:{overflow:"visible"}},[o("div",{staticClass:"card-header collapsed",attrs:{id:"qualification","data-toggle":"collapse","data-target":"#collapseQualification","aria-expanded":"false","aria-controls":"collapseQualification"},on:{click:function(t){e.tab="qualification"}}},[o("h5",[o("i",{staticClass:"fas fa-lg fa-book fa-fix-w-32"}),e._v(" "+e._s(e.trans("employee.qualification_information")))])]),e._v(" "),o("div",{staticClass:"collapse",attrs:{id:"collapseQualification","aria-labelledby":"qualification","data-parent":"#accordion"}},[o("div",{staticClass:"card-body"},["qualification"==e.tab?o("qualification-detail",{attrs:{employee:e.employee}}):e._e()],1)])]),e._v(" "),o("div",{staticClass:"card",staticStyle:{overflow:"visible"}},[o("div",{staticClass:"card-header collapsed",attrs:{id:"account","data-toggle":"collapse","data-target":"#collapseAccount","aria-expanded":"false","aria-controls":"collapseAccount"},on:{click:function(t){e.tab="account"}}},[o("h5",[o("i",{staticClass:"fas fa-lg fa-university fa-fix-w-32"}),e._v(" "+e._s(e.trans("employee.account_information")))])]),e._v(" "),o("div",{staticClass:"collapse",attrs:{id:"collapseAccount","aria-labelledby":"account","data-parent":"#accordion"}},[o("div",{staticClass:"card-body"},["account"==e.tab?o("account-detail",{attrs:{employee:e.employee}}):e._e()],1)])]),e._v(" "),o("div",{staticClass:"card",staticStyle:{overflow:"visible"}},[o("div",{staticClass:"card-header collapsed",attrs:{id:"login","data-toggle":"collapse","data-target":"#collapseUserLogin","aria-expanded":"false","aria-controls":"collapseUserLogin"},on:{click:function(t){e.tab="login"}}},[o("h5",[o("i",{staticClass:"fas fa-lg fa-sign-in-alt fa-fix-w-32"}),e._v(" "+e._s(e.trans("auth.user_login")))])]),e._v(" "),o("div",{staticClass:"collapse",attrs:{id:"collapseUserLogin","aria-labelledby":"login","data-parent":"#accordion"}},[o("div",{staticClass:"card-body"},["login"==e.tab?o("login-detail",{attrs:{employee:e.employee},on:{completed:e.getEmployee}}):e._e()],1)])]),e._v(" "),o("div",{staticClass:"card",staticStyle:{overflow:"visible"}},[o("div",{staticClass:"card-header collapsed",attrs:{id:"designation","data-toggle":"collapse","data-target":"#collapseDesignation","aria-expanded":"false","aria-controls":"collapseDesignation"},on:{click:function(t){e.tab="designation"}}},[o("h5",[o("i",{staticClass:"fas fa-lg fa-user-plus fa-fix-w-32"}),e._v(" "+e._s(e.trans("employee.designation_history")))])]),e._v(" "),o("div",{staticClass:"collapse",attrs:{id:"collapseDesignation","aria-labelledby":"designation","data-parent":"#accordion"}},[o("div",{staticClass:"card-body"},["designation"==e.tab?o("designation-detail",{attrs:{employee:e.employee},on:{completed:e.getEmployee}}):e._e()],1)])]),e._v(" "),o("div",{staticClass:"card",staticStyle:{overflow:"visible"}},[o("div",{staticClass:"card-header collapsed",attrs:{id:"term","data-toggle":"collapse","data-target":"#collapseTerm","aria-expanded":"false","aria-controls":"collapseTerm"},on:{click:function(t){e.tab="term"}}},[o("h5",[o("i",{staticClass:"fas fa-lg fa-user-times fa-fix-w-32"}),e._v(" "+e._s(e.trans("employee.term_history")))])]),e._v(" "),o("div",{staticClass:"collapse",attrs:{id:"collapseTerm","aria-labelledby":"term","data-parent":"#accordion"}},[o("div",{staticClass:"card-body"},["term"==e.tab?o("term-detail",{attrs:{employee:e.employee},on:{completed:e.getEmployee}}):e._e()],1)])])]):e._e()]),e._v(" "),o("div",{staticClass:"col-12 col-sm-4 hidden-sm-down p-0 border-left"},[o("div",{staticClass:"card"},[o("div",{staticClass:"card-body p-r-20"},[o("div",{staticClass:"m-2"},[o("upload-image",{attrs:{id:"photo","upload-path":"/employee/"+e.employee.uuid+"/photo","remove-path":"/employee/"+e.employee.uuid+"/photo/remove","image-source":e.photo},on:{uploaded:e.updatePhoto,removed:e.updatePhoto}})],1),e._v(" "),e.employee.id?o("div",{staticClass:"table-responsive"},[o("table",{staticClass:"table table-sm custom-show-table"},[o("tbody",[o("tr",[o("td",[e._v(e._s(e.trans("employee.name")))]),e._v(" "),o("td",[e._v(e._s(e.getEmployeeName(e.employee)))])]),e._v(" "),o("tr",[o("td",[e._v(e._s(e.trans("employee.father_name")))]),e._v(" "),o("td",[e._v(e._s(e.employee.father_name))])]),e._v(" "),o("tr",[o("td",[e._v(e._s(e.trans("employee.status")))]),e._v(" "),o("td",{domProps:{innerHTML:e._s(e.getStatus(e.employee))}})]),e._v(" "),o("tr",[o("td",[e._v(e._s(e.trans("employee.date_of_joining")))]),e._v(" "),o("td",[e.employee.employee_terms[0]?o("span",[e._v(e._s(e._f("moment")(e.employee.employee_terms[0].date_of_joining)))]):o("span",[e._v("-")])])]),e._v(" "),o("tr",[o("td",[e._v(e._s(e.trans("employee.designation")))]),e._v(" "),o("td",[e.employee.employee_designations.length?o("span",[e._v("\n                                                "+e._s(e.employee.employee_designations[0].designation.name+" ("+e.employee.employee_designations[0].designation.employee_category.name+")")+"\n                                            ")]):o("span",[e._v("-")])])]),e._v(" "),o("tr",[o("td",[e._v(e._s(e.trans("employee.mother_name")))]),e._v(" "),o("td",[e._v(e._s(e.employee.mother_name))])]),e._v(" "),o("tr",[o("td",[e._v(e._s(e.trans("employee.contact_number")))]),e._v(" "),o("td",[e._v(e._s(e.employee.contact_number))])]),e._v(" "),o("tr",[o("td",[e._v(e._s(e.trans("employee.gender")))]),e._v(" "),o("td",[e._v(e._s(e.employee.gender))])]),e._v(" "),o("tr",[o("td",[e._v(e._s(e.trans("employee.date_of_birth")))]),e._v(" "),o("td",[e._v(e._s(e._f("moment")(e.employee.date_of_birth)))])]),e._v(" "),o("tr",[o("td",[e._v(e._s(e.trans("general.created_at")))]),e._v(" "),o("td",[e._v(e._s(e._f("momentDateTime")(e.employee.created_at)))])]),e._v(" "),o("tr",[o("td",[e._v(e._s(e.trans("general.updated_at")))]),e._v(" "),o("td",[e._v(e._s(e._f("momentDateTime")(e.employee.updated_at)))])])])])]):e._e()])])])])])])}),[],!1,null,null,null).exports},50653:(e,t,o)=>{"use strict";o.d(t,{Z:()=>g});const a={components:{},data:function(){return{qualificationForm:new Form({standard:"",institute_name:"",board_name:"",result:"",start_period:"",end_period:"",upload_token:"",description:""}),module_id:"",clearAttachment:!0}},props:["uuid","qid","name"],mounted:function(){this.qualificationForm.upload_token=this.$uuid.v4(),this.qid&&this.getQualification()},methods:{proceed:function(){this.qid?this.updateQualification():this.storeQualification()},storeQualification:function(){var e=this,t=this.$loading.show();this.qualificationForm.start_period=moment(this.qualificationForm.start_period).format("YYYY-MM"),this.qualificationForm.end_period=moment(this.qualificationForm.end_period).format("YYYY-MM"),this.qualificationForm.post("/api/employee/"+this.uuid+"/qualification").then((function(o){toastr.success(o.message),e.clearAttachment=!e.clearAttachment,e.$emit("completed"),e.qualificationForm.upload_token=e.$uuid.v4(),t.hide()})).catch((function(e){t.hide(),helper.showErrorMsg(e)}))},getQualification:function(){var e=this,t=this.$loading.show();axios.get("/api/employee/"+this.uuid+"/qualification/"+this.qid).then((function(o){e.qualificationForm.standard=o.employee_qualification.standard,e.qualificationForm.institute_name=o.employee_qualification.institute_name,e.qualificationForm.board_name=o.employee_qualification.board_name,e.qualificationForm.result=o.employee_qualification.result,e.qualificationForm.start_period=o.employee_qualification.start_period,e.qualificationForm.end_period=o.employee_qualification.end_period,e.qualificationForm.description=o.employee_qualification.description,e.qualificationForm.upload_token=o.employee_qualification.upload_token,e.module_id=o.employee_qualification.id,e.$emit("loaded"),t.hide()})).catch((function(o){t.hide(),e.$router.push("/employee/"+e.uuid)}))},updateQualification:function(){var e=this,t=this.$loading.show();this.qualificationForm.start_period=moment(this.qualificationForm.start_period).format("YYYY-MM"),this.qualificationForm.end_period=moment(this.qualificationForm.end_period).format("YYYY-MM"),this.qualificationForm.patch("/api/employee/"+this.uuid+"/qualification/"+this.qid).then((function(o){toastr.success(o.message),e.$emit("completed"),t.hide()})).catch((function(e){t.hide(),helper.showErrorMsg(e)}))}}};var n=o(51900);const s=(0,n.Z)(a,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("form",{on:{submit:function(t){return t.preventDefault(),e.proceed.apply(null,arguments)},keydown:function(t){return e.qualificationForm.errors.clear(t.target.name)}}},[o("div",{staticClass:"row"},[o("div",{staticClass:"col-12 col-sm-6"},[o("div",{staticClass:"form-group"},[o("label",{attrs:{for:""}},[e._v(e._s(e.trans("employee.qualification_standard")))]),e._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.qualificationForm.standard,expression:"qualificationForm.standard"}],staticClass:"form-control",attrs:{type:"text",name:"standard",placeholder:e.trans("employee.qualification_standard")},domProps:{value:e.qualificationForm.standard},on:{input:function(t){t.target.composing||e.$set(e.qualificationForm,"standard",t.target.value)}}}),e._v(" "),o("show-error",{attrs:{"form-name":e.qualificationForm,"prop-name":"standard"}})],1)]),e._v(" "),o("div",{staticClass:"col-12 col-sm-6"},[o("div",{staticClass:"form-group"},[o("label",{attrs:{for:""}},[e._v(e._s(e.trans("employee.institute_name")))]),e._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.qualificationForm.institute_name,expression:"qualificationForm.institute_name"}],staticClass:"form-control",attrs:{type:"text",name:"institute_name",placeholder:e.trans("employee.institute_name")},domProps:{value:e.qualificationForm.institute_name},on:{input:function(t){t.target.composing||e.$set(e.qualificationForm,"institute_name",t.target.value)}}}),e._v(" "),o("show-error",{attrs:{"form-name":e.qualificationForm,"prop-name":"institute_name"}})],1)]),e._v(" "),o("div",{staticClass:"col-12 col-sm-6"},[o("div",{staticClass:"form-group"},[o("label",{attrs:{for:""}},[e._v(e._s(e.trans("employee.board_name")))]),e._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.qualificationForm.board_name,expression:"qualificationForm.board_name"}],staticClass:"form-control",attrs:{type:"text",name:"board_name",placeholder:e.trans("employee.board_name")},domProps:{value:e.qualificationForm.board_name},on:{input:function(t){t.target.composing||e.$set(e.qualificationForm,"board_name",t.target.value)}}}),e._v(" "),o("show-error",{attrs:{"form-name":e.qualificationForm,"prop-name":"board_name"}})],1)]),e._v(" "),o("div",{staticClass:"col-12 col-sm-6"},[o("div",{staticClass:"form-group"},[o("label",{attrs:{for:""}},[e._v(e._s(e.trans("employee.qualification_result")))]),e._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.qualificationForm.result,expression:"qualificationForm.result"}],staticClass:"form-control",attrs:{type:"text",name:"result",placeholder:e.trans("employee.qualification_result")},domProps:{value:e.qualificationForm.result},on:{input:function(t){t.target.composing||e.$set(e.qualificationForm,"result",t.target.value)}}}),e._v(" "),o("show-error",{attrs:{"form-name":e.qualificationForm,"prop-name":"result"}})],1)]),e._v(" "),o("div",{staticClass:"col-12 col-sm-6"},[o("div",{staticClass:"form-group"},[o("label",{attrs:{for:""}},[e._v(e._s(e.trans("employee.qualification_start_period")))]),e._v(" "),o("vue-monthly-picker",{attrs:{name:"start_period",placeHolder:e.trans("employee.qualification_start_period"),dateFormat:"YYYY-MM "},model:{value:e.qualificationForm.start_period,callback:function(t){e.$set(e.qualificationForm,"start_period",t)},expression:"qualificationForm.start_period"}}),e._v(" "),o("show-error",{attrs:{"form-name":e.qualificationForm,"prop-name":"start_period"}})],1)]),e._v(" "),o("div",{staticClass:"col-12 col-sm-6"},[o("div",{staticClass:"form-group"},[o("label",{attrs:{for:""}},[e._v(e._s(e.trans("employee.qualification_end_period")))]),e._v(" "),o("vue-monthly-picker",{attrs:{name:"end_period",placeHolder:e.trans("employee.qualification_end_period"),dateFormat:"YYYY-MM "},model:{value:e.qualificationForm.end_period,callback:function(t){e.$set(e.qualificationForm,"end_period",t)},expression:"qualificationForm.end_period"}}),e._v(" "),o("show-error",{attrs:{"form-name":e.qualificationForm,"prop-name":"end_period"}})],1)])]),e._v(" "),o("div",{staticClass:"form-group"},[o("file-upload-input",{attrs:{"button-text":e.trans("general.upload_document"),token:e.qualificationForm.upload_token,module:"employee_qualification","clear-file":e.clearAttachment,"module-id":e.module_id}})],1),e._v(" "),o("div",{staticClass:"form-group"},[o("autosize-textarea",{attrs:{rows:"2",name:"description",placeholder:e.trans("employee.qualification_description")},model:{value:e.qualificationForm.description,callback:function(t){e.$set(e.qualificationForm,"description",t)},expression:"qualificationForm.description"}}),e._v(" "),o("show-error",{attrs:{"form-name":e.qualificationForm,"prop-name":"description"}})],1),e._v(" "),o("button",{staticClass:"btn btn-info waves-effect waves-light pull-right",attrs:{type:"submit"}},[e.qid?o("span",[e._v(e._s(e.trans("general.update")))]):o("span",[e._v(e._s(e.trans("general.save")))])])]),e._v(" "),o("div",{staticClass:"clearfix"})])}),[],!1,null,null,null).exports,i={components:{qualificationForm:s},props:["employee"],methods:{complete:function(){this.$emit("completed"),this.$emit("close")}}};var r=o(93379),l=o.n(r),c=o(13560),m={insert:"head",singleton:!1};l()(c.Z,m);c.Z.locals;const d=(0,n.Z)(i,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("transition",{attrs:{name:"modal"}},[o("div",{staticClass:"modal-mask"},[o("div",{staticClass:"modal-wrapper"},[o("div",{staticClass:"modal-container modal-lg"},[o("div",{staticClass:"modal-header"},[e._t("header",(function(){return[e._v("\n                        "+e._s(e.trans("employee.add_new_qualification"))+"\n                        "),o("span",{staticClass:"float-right pointer",on:{click:function(t){return e.$emit("close")}}},[e._v("x")])]}))],2),e._v(" "),o("div",{staticClass:"modal-body"},[e._t("body",(function(){return[o("qualification-form",{attrs:{uuid:e.employee.uuid},on:{completed:e.complete}})]}))],2)])])])])}),[],!1,null,null,null).exports;const p={components:{qualificationForm:s},props:["employee","qid"],methods:{complete:function(){this.$emit("completed"),this.$emit("close")}}};var u=o(71740),_={insert:"head",singleton:!1};l()(u.Z,_);u.Z.locals;const v=(0,n.Z)(p,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("transition",{attrs:{name:"modal"}},[o("div",{staticClass:"modal-mask"},[o("div",{staticClass:"modal-wrapper"},[o("div",{staticClass:"modal-container modal-lg"},[o("div",{staticClass:"modal-header"},[e._t("header",(function(){return[e._v("\n                        "+e._s(e.trans("employee.edit_qualification"))+"\n                        "),o("span",{staticClass:"float-right pointer",on:{click:function(t){return e.$emit("close")}}},[e._v("x")])]}))],2),e._v(" "),o("div",{staticClass:"modal-body"},[e._t("body",(function(){return[o("qualification-form",{attrs:{uuid:e.employee.uuid,qid:e.qid},on:{completed:e.complete}})]}))],2)])])])])}),[],!1,null,null,null).exports;const f={components:{qualificationForm:s},props:["employee","qid"],mounted:function(){this.qid&&this.getEmployeeQualification()},data:function(){return{employee_qualification:[],attachments:[]}},methods:{getEmployeeQualification:function(){var e=this,t=this.$loading.show();axios.get("/api/employee/"+this.employee.uuid+"/qualification/"+this.qid).then((function(o){e.employee_qualification=o.employee_qualification,e.attachments=o.attachments,t.hide()})).catch((function(e){t.hide(),helper.showErrorMsg(e)}))}},computed:{authToken:function(){return helper.getAuthToken()}},filters:{momentDateTime:function(e){return helper.formatDateTime(e)}}};const h=(0,n.Z)(f,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("transition",{attrs:{name:"modal"}},[o("div",{staticClass:"modal-mask"},[o("div",{staticClass:"modal-wrapper"},[o("div",{staticClass:"modal-container modal-lg"},[o("div",{staticClass:"modal-header"},[e._t("header",(function(){return[e._v("\n                        "+e._s(e.trans("employee.view_qualification"))+"\n                        "),o("span",{staticClass:"float-right pointer",on:{click:function(t){return e.$emit("close")}}},[e._v("x")])]}))],2),e._v(" "),o("div",{staticClass:"modal-body"},[e._t("body",(function(){return[o("div",{staticClass:"table-responsive"},[o("table",{staticClass:"table table-sm custom-show-table"},[o("tbody",[o("tr",[o("td",[e._v(e._s(e.trans("employee.qualification_standard")))]),e._v(" "),o("td",[e._v(e._s(e.employee_qualification.standard))])]),e._v(" "),o("tr",[o("td",[e._v(e._s(e.trans("employee.institute_name")))]),e._v(" "),o("td",[e._v(e._s(e.employee_qualification.institute_name))])]),e._v(" "),o("tr",[o("td",[e._v(e._s(e.trans("employee.board_name")))]),e._v(" "),o("td",[e._v(e._s(e.employee_qualification.board_name))])]),e._v(" "),o("tr",[o("td",[e._v(e._s(e.trans("employee.qualification_start_period")))]),e._v(" "),o("td",[e._v(e._s(e.employee_qualification.start_period))])]),e._v(" "),o("tr",[o("td",[e._v(e._s(e.trans("employee.qualification_end_period")))]),e._v(" "),o("td",[e._v(e._s(e.employee_qualification.end_period))])]),e._v(" "),o("tr",[o("td",[e._v(e._s(e.trans("employee.qualification_result")))]),e._v(" "),o("td",[e._v(e._s(e.employee_qualification.result))])]),e._v(" "),o("tr",[o("td",[e._v(e._s(e.trans("employee.qualification_description")))]),e._v(" "),o("td",[e._v(e._s(e.employee_qualification.description))])])])])]),e._v(" "),e.attachments.length?o("div",[o("ul",{staticClass:"m-t-10 upload-file-list"},e._l(e.attachments,(function(t){return o("li",{staticClass:"upload-file-list-item"},[o("a",{staticClass:"no-link-color",attrs:{href:"/employee/"+e.employee.uuid+"/qualification/"+e.employee_qualification.id+"/attachment/"+t.uuid+"/download?token="+e.authToken}},[o("i",{class:["file-icon","fas","fa-lg",t.file_info.icon]}),e._v(" "),o("span",{staticClass:"upload-file-list-item-size"},[e._v(e._s(t.file_info.size))]),e._v(" "+e._s(t.user_filename))])])})),0)]):e._e(),e._v(" "),o("hr"),e._v(" "),o("p",[o("i",{staticClass:"far fa-clock"}),e._v(" "),o("small",[e._v(e._s(e.trans("general.created_at"))+" "+e._s(e._f("momentDateTime")(e.employee_qualification.created_at)))]),e._v(" "),o("span",{staticClass:"pull-right"},[o("i",{staticClass:"far fa-clock"}),e._v(" "),o("small",[e._v(e._s(e.trans("general.updated_at"))+" "+e._s(e._f("momentDateTime")(e.employee_qualification.updated_at)))])])])]}))],2)])])])])}),[],!1,null,null,null).exports,y={props:{employee:{type:Object,default:function(){return{}}},readMode:{type:Boolean,default:!1}},components:{createQualification:d,editQualification:v,showQualification:h},data:function(){return{employee_qualifications:{total:0,data:[]},showId:null,editId:null,filter:{page_length:helper.getConfig("page_length")},addModal:!1,editModal:!1,showModal:!1}},mounted:function(){helper.hasPermission("list-employee")||(helper.notAccessibleMsg(),this.$router.push("/dashboard")),this.getEmployeeQualifications()},methods:{getEmployeeName:function(){return helper.getEmployeeName(this.employee)},editAction:function(e){this.editId=e.id,this.editModal=!0},showAction:function(e){this.showId=e.id,this.showModal=!0},getEmployeeQualifications:function(e){var t=this,o=this.$loading.show();"number"!=typeof e&&(e=1);var a=helper.getFilterURL(this.filter);axios.get("/api/employee/"+this.employee.uuid+"/qualification?page="+e+a).then((function(e){t.employee_qualifications=e,o.hide()})).catch((function(e){o.hide(),helper.showErrorMsg(e)}))},confirmDelete:function(e){var t=this;return function(o){return t.deleteEmployeeQualification(e)}},deleteEmployeeQualification:function(e){var t=this,o=this.$loading.show();axios.delete("/api/employee/"+this.employee.uuid+"/qualification/"+e.id).then((function(e){toastr.success(e.message),t.getEmployeeQualifications(),o.hide()})).catch((function(e){o.hide(),helper.showErrorMsg(e)}))}},filters:{momentDateTime:function(e){return helper.formatDateTime(e)}},watch:{employee:function(e){this.getEmployeeQualifications()}}};const g=(0,n.Z)(y,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[e.readMode?e._e():o("button",{staticClass:"btn btn-sm btn-info pull-right",on:{click:function(t){e.addModal=!0}}},[o("i",{staticClass:"fas fa-plus"}),e._v(" "+e._s(e.trans("employee.add_new_qualification")))]),e._v(" "),e.employee_qualifications.total?o("div",{staticClass:"table-responsive"},[o("table",{staticClass:"table table-sm"},[o("thead",[o("tr",[o("th",[e._v(e._s(e.trans("employee.qualification_standard")))]),e._v(" "),o("th",[e._v(e._s(e.trans("employee.institute_name")))]),e._v(" "),o("th",[e._v(e._s(e.trans("employee.qualification_period")))]),e._v(" "),o("th",[e._v(e._s(e.trans("employee.qualification_result")))]),e._v(" "),o("th",{staticClass:"table-option"},[e._v(e._s(e.trans("general.action")))])])]),e._v(" "),o("tbody",e._l(e.employee_qualifications.data,(function(t){return o("tr",[o("td",{domProps:{textContent:e._s(t.standard)}}),e._v(" "),o("td",{domProps:{textContent:e._s(t.institute_name)}}),e._v(" "),o("td",[e._v(e._s(t.start_period)+" "+e._s(e.trans("general.to"))+" "+e._s(t.end_period))]),e._v(" "),o("td",{domProps:{textContent:e._s(t.result)}}),e._v(" "),o("td",{staticClass:"table-option"},[o("div",{staticClass:"btn-group"},[o("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.trans("employee.view_qualification"),expression:"trans('employee.view_qualification')"}],staticClass:"btn btn-success btn-sm",on:{click:function(o){return o.preventDefault(),e.showAction(t)}}},[o("i",{staticClass:"fas fa-arrow-circle-right"})]),e._v(" "),e.readMode?e._e():o("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.trans("employee.edit_qualification"),expression:"trans('employee.edit_qualification')"}],staticClass:"btn btn-info btn-sm",on:{click:function(o){return o.preventDefault(),e.editAction(t)}}},[o("i",{staticClass:"fas fa-edit"})]),e._v(" "),e.readMode?e._e():o("button",{directives:[{name:"confirm",rawName:"v-confirm",value:{ok:e.confirmDelete(t)},expression:"{ok: confirmDelete(employee_qualification)}"},{name:"tooltip",rawName:"v-tooltip",value:e.trans("employee.delete_qualification"),expression:"trans('employee.delete_qualification')"}],key:t.id,staticClass:"btn btn-danger btn-sm"},[o("i",{staticClass:"fas fa-trash"})])])])])})),0)])]):e._e(),e._v(" "),e.readMode?[e.employee_qualifications.total?e._e():o("div",{staticClass:"font-80pc"},[e._v(e._s(e.trans("general.no_result_found")))]),e._v(" "),o("div",[e._v(" ")])]:[e.employee_qualifications.total?e._e():o("module-info",{attrs:{module:"employee",title:"qualification_module_title",description:"qualification_module_description",icon:"list"}},[o("div",{attrs:{slot:"btn"},slot:"btn"},[o("button",{staticClass:"btn btn-info btn-md",on:{click:function(t){e.addModal=!0}}},[o("i",{staticClass:"fas fa-plus"}),e._v(" "+e._s(e.trans("general.add_new")))])])])],e._v(" "),o("pagination-record",{attrs:{"page-length":e.filter.page_length,records:e.employee_qualifications},on:{"update:pageLength":function(t){return e.$set(e.filter,"page_length",t)},"update:page-length":function(t){return e.$set(e.filter,"page_length",t)},updateRecords:e.getEmployeeQualifications},nativeOn:{change:function(t){return e.getEmployeeQualifications.apply(null,arguments)}}}),e._v(" "),e.addModal&&!e.readMode?o("create-qualification",{attrs:{employee:e.employee},on:{close:function(t){e.addModal=!1},completed:e.getEmployeeQualifications}}):e._e(),e._v(" "),e.editModal&&!e.readMode?o("edit-qualification",{attrs:{employee:e.employee,qid:e.editId},on:{close:function(t){e.editModal=!1},completed:e.getEmployeeQualifications}}):e._e(),e._v(" "),e.showModal?o("show-qualification",{attrs:{employee:e.employee,qid:e.showId},on:{close:function(t){e.showModal=!1}}}):e._e()],2)}),[],!1,null,null,null).exports},19892:(e,t,o)=>{"use strict";o.d(t,{Z:()=>y});const a={components:{},props:["uuid","tid"],data:function(){return{termForm:new Form({designation_id:"",department_id:"",date_of_joining:"",date_of_leaving:"",is_leaving:0,joining_remarks:"",leaving_remarks:"",upload_token:""}),module_id:"",designations:[],departments:[],selected_designation:null,selected_department:null,clearAttachment:!0}},mounted:function(){this.termForm.upload_token=this.$uuid.v4(),this.getPreRequisite(),this.tid&&this.getTerm()},methods:{getPreRequisite:function(){var e=this,t=this.$loading.show();axios.get("/api/employee/"+this.uuid+"/term/pre-requisite").then((function(o){e.designations=o.designations,e.departments=o.departments,t.hide()})).catch((function(e){t.hide(),helper.showErrorMsg(e)}))},proceed:function(){this.tid?this.updateTerm():this.storeTerm()},storeTerm:function(){var e=this,t=this.$loading.show();this.termForm.post("/api/employee/"+this.uuid+"/term").then((function(o){toastr.success(o.message),e.clearAttachment=!e.clearAttachment,e.$emit("completed"),e.termForm.upload_token=e.$uuid.v4(),t.hide()})).catch((function(e){t.hide(),helper.showErrorMsg(e)}))},getTerm:function(){var e=this,t=this.$loading.show();axios.get("/api/employee/"+this.uuid+"/term/"+this.tid).then((function(o){e.termForm.date_of_joining=o.employee_term.date_of_joining,e.termForm.date_of_leaving=o.employee_term.date_of_leaving,e.termForm.joining_remarks=o.employee_term.joining_remarks,e.termForm.leaving_remarks=o.employee_term.leaving_remarks,e.termForm.is_leaving=o.employee_term.date_of_leaving?1:0,e.termForm.upload_token=o.employee_term.upload_token,e.module_id=o.employee_term.id,e.$emit("loaded"),t.hide()})).catch((function(o){t.hide(),e.$router.push("/employee/"+e.uuid)}))},updateTerm:function(){var e=this,t=this.$loading.show();this.termForm.patch("/api/employee/"+this.uuid+"/term/"+this.tid).then((function(o){toastr.success(o.message),e.$emit("completed"),t.hide()})).catch((function(e){t.hide(),helper.showErrorMsg(e)}))},onDesignationSelect:function(e){this.termForm.designation_id=e.id},onDepartmentSelect:function(e){this.termForm.department_id=e.id}},filters:{momentDateTime:function(e){return helper.formatDateTime(e)},moment:function(e){return helper.formatDate(e)}}};var n=o(51900);const s=(0,n.Z)(a,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("form",{on:{submit:function(t){return t.preventDefault(),e.proceed.apply(null,arguments)},keydown:function(t){return e.termForm.errors.clear(t.target.name)}}},[o("div",{staticClass:"row"},[e.tid?e._e():[o("div",{staticClass:"col-12 col-sm-6"},[o("div",{staticClass:"form-group"},[o("label",{attrs:{for:""}},[e._v(e._s(e.trans("employee.designation")))]),e._v(" "),o("v-select",{attrs:{label:"name","group-values":"designations","group-label":"employee_category","group-select":!1,name:"designation_id",id:"designation_id",options:e.designations,placeholder:e.trans("employee.select_designation")},on:{select:e.onDesignationSelect,close:function(t){return e.termForm.errors.clear("designation_id")},remove:function(t){e.termForm.designation_id=""}},model:{value:e.selected_designation,callback:function(t){e.selected_designation=t},expression:"selected_designation"}},[e.designations.length?e._e():o("div",{staticClass:"multiselect__option",attrs:{slot:"afterList"},slot:"afterList"},[e._v("\n                            "+e._s(e.trans("general.no_option_found"))+"\n                        ")])]),e._v(" "),o("show-error",{attrs:{"form-name":e.termForm,"prop-name":"designation_id"}})],1)]),e._v(" "),o("div",{staticClass:"col-12 col-sm-6"},[o("div",{staticClass:"form-group"},[o("label",{attrs:{for:""}},[e._v(e._s(e.trans("employee.department")))]),e._v(" "),o("v-select",{attrs:{label:"name",name:"department_id",id:"department_id",options:e.departments,placeholder:e.trans("employee.select_department")},on:{select:e.onDepartmentSelect,close:function(t){return e.termForm.errors.clear("department_id")},remove:function(t){e.termForm.department_id=""}},model:{value:e.selected_department,callback:function(t){e.selected_department=t},expression:"selected_department"}},[e.departments.length?e._e():o("div",{staticClass:"multiselect__option",attrs:{slot:"afterList"},slot:"afterList"},[e._v("\n                            "+e._s(e.trans("general.no_option_found"))+"\n                        ")])]),e._v(" "),o("show-error",{attrs:{"form-name":e.termForm,"prop-name":"department_id"}})],1)])],e._v(" "),o("div",{staticClass:"col-12 col-sm-6"},[o("div",{staticClass:"form-group"},[o("label",{attrs:{for:""}},[e._v(e._s(e.trans("employee.date_of_joining")))]),e._v(" "),e.tid?[o("p",[e._v(e._s(e._f("moment")(e.termForm.date_of_joining)))])]:[o("datepicker",{attrs:{bootstrapStyling:!0,placeholder:e.trans("employee.date_of_joining")},on:{selected:function(t){return e.termForm.errors.clear("date_of_joining")}},model:{value:e.termForm.date_of_joining,callback:function(t){e.$set(e.termForm,"date_of_joining",t)},expression:"termForm.date_of_joining"}}),e._v(" "),o("show-error",{attrs:{"form-name":e.termForm,"prop-name":"date_of_joining"}})]],2)]),e._v(" "),o("div",{staticClass:"col-12 col-sm-6"},[o("div",{staticClass:"form-group"},[o("label",{attrs:{for:""}},[e._v(e._s(e.trans("employee.joining_remarks")))]),e._v(" "),e.tid?[o("p",{domProps:{textContent:e._s(e.termForm.joining_remarks)}})]:[o("autosize-textarea",{attrs:{rows:"1",name:"joining_remarks",placeholder:e.trans("employee.joining_remarks")},model:{value:e.termForm.joining_remarks,callback:function(t){e.$set(e.termForm,"joining_remarks",t)},expression:"termForm.joining_remarks"}}),e._v(" "),o("show-error",{attrs:{"form-name":e.termForm,"prop-name":"joining_remarks"}})]],2)])],2),e._v(" "),e.tid?o("div",{staticClass:"form-group"},[o("label",{staticClass:"custom-control custom-checkbox"},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.termForm.is_leaving,expression:"termForm.is_leaving"}],staticClass:"custom-control-input",attrs:{type:"checkbox",value:"1"},domProps:{checked:Array.isArray(e.termForm.is_leaving)?e._i(e.termForm.is_leaving,"1")>-1:e.termForm.is_leaving},on:{change:function(t){var o=e.termForm.is_leaving,a=t.target,n=!!a.checked;if(Array.isArray(o)){var s=e._i(o,"1");a.checked?s<0&&e.$set(e.termForm,"is_leaving",o.concat(["1"])):s>-1&&e.$set(e.termForm,"is_leaving",o.slice(0,s).concat(o.slice(s+1)))}else e.$set(e.termForm,"is_leaving",n)}}}),e._v(" "),o("span",{staticClass:"custom-control-label"},[e._v(e._s(e.trans("employee.is_leaving")))])])]):e._e(),e._v(" "),e.termForm.is_leaving?[o("div",{staticClass:"row"},[o("div",{staticClass:"col-12 col-sm-6"},[o("div",{staticClass:"form-group"},[o("label",{attrs:{for:""}},[e._v(e._s(e.trans("employee.date_of_leaving")))]),e._v(" "),e.tid?[o("datepicker",{attrs:{bootstrapStyling:!0,placeholder:e.trans("employee.date_of_leaving")},on:{selected:function(t){return e.termForm.errors.clear("date_of_leaving")}},model:{value:e.termForm.date_of_leaving,callback:function(t){e.$set(e.termForm,"date_of_leaving",t)},expression:"termForm.date_of_leaving"}}),e._v(" "),o("show-error",{attrs:{"form-name":e.termForm,"prop-name":"date_of_leaving"}})]:[o("p",[e._v(e._s(e._f("moment")(e.termForm.date_of_leaving)))])]],2)]),e._v(" "),o("div",{staticClass:"col-12 col-sm-6"},[o("div",{staticClass:"form-group"},[o("label",{attrs:{for:""}},[e._v(e._s(e.trans("employee.leaving_remarks")))]),e._v(" "),e.tid?[o("autosize-textarea",{attrs:{rows:"1",name:"leaving_remarks",placeholder:e.trans("employee.leaving_remarks")},model:{value:e.termForm.leaving_remarks,callback:function(t){e.$set(e.termForm,"leaving_remarks",t)},expression:"termForm.leaving_remarks"}}),e._v(" "),o("show-error",{attrs:{"form-name":e.termForm,"prop-name":"leaving_remarks"}})]:[o("p",{domProps:{textContent:e._s(e.termForm.leaving_remarks)}})]],2)])])]:e._e(),e._v(" "),o("div",{staticClass:"form-group"},[o("file-upload-input",{attrs:{"button-text":e.trans("general.upload_document"),token:e.termForm.upload_token,module:"employee_term","clear-file":e.clearAttachment,"module-id":e.module_id}})],1),e._v(" "),o("div",{staticClass:"form-group"},[o("button",{staticClass:"btn btn-info pull-right"},[e._v(e._s(e.trans("general.save")))])]),e._v(" "),o("div",{staticClass:"clearfix"})],2)}),[],!1,null,null,null).exports,i={components:{termForm:s},props:["employee"],methods:{complete:function(){this.$emit("completed"),this.$emit("close")}}};var r=o(93379),l=o.n(r),c=o(82350),m={insert:"head",singleton:!1};l()(c.Z,m);c.Z.locals;const d=(0,n.Z)(i,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("transition",{attrs:{name:"modal"}},[o("div",{staticClass:"modal-mask"},[o("div",{staticClass:"modal-wrapper"},[o("div",{staticClass:"modal-container modal-lg"},[o("div",{staticClass:"modal-header"},[e._t("header",(function(){return[e._v("\n                        "+e._s(e.trans("employee.add_new_term"))+"\n                        "),o("span",{staticClass:"float-right pointer",on:{click:function(t){return e.$emit("close")}}},[e._v("x")])]}))],2),e._v(" "),o("div",{staticClass:"modal-body"},[e._t("body",(function(){return[o("term-form",{attrs:{uuid:e.employee.uuid},on:{completed:e.complete}})]}))],2)])])])])}),[],!1,null,null,null).exports;const p={components:{termForm:s},props:["employee","tid"],methods:{complete:function(){this.$emit("completed"),this.$emit("close")}}};var u=o(94635),_={insert:"head",singleton:!1};l()(u.Z,_);u.Z.locals;const v={components:{},props:["employee","tid"],mounted:function(){this.tid&&this.getEmployeeTerm()},data:function(){return{employee_term:[],attachments:[]}},methods:{getEmployeeName:function(){return helper.getEmployeeName(this.employee)},getEmployeeTerm:function(){var e=this,t=this.$loading.show();axios.get("/api/employee/"+this.employee.uuid+"/term/"+this.tid).then((function(o){e.employee_term=o.employee_term,e.attachments=o.attachments,t.hide()})).catch((function(e){t.hide(),helper.showErrorMsg(e)}))}},computed:{authToken:function(){return helper.getAuthToken()}},filters:{moment:function(e){return helper.formatDate(e)},momentDateTime:function(e){return helper.formatDateTime(e)}}};function f(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}const h={components:{createTerm:d,editTerm:(0,n.Z)(p,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("transition",{attrs:{name:"modal"}},[o("div",{staticClass:"modal-mask"},[o("div",{staticClass:"modal-wrapper"},[o("div",{staticClass:"modal-container modal-lg"},[o("div",{staticClass:"modal-header"},[e._t("header",(function(){return[e._v("\n                        "+e._s(e.trans("employee.edit_term"))+"\n                        "),o("span",{staticClass:"float-right pointer",on:{click:function(t){return e.$emit("close")}}},[e._v("x")])]}))],2),e._v(" "),o("div",{staticClass:"modal-body"},[e._t("body",(function(){return[o("term-form",{attrs:{uuid:e.employee.uuid,tid:e.tid},on:{completed:e.complete}})]}))],2)])])])])}),[],!1,null,null,null).exports,showTerm:(0,n.Z)(v,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("transition",{attrs:{name:"modal"}},[o("div",{staticClass:"modal-mask"},[o("div",{staticClass:"modal-wrapper"},[o("div",{staticClass:"modal-container modal-lg"},[o("div",{staticClass:"modal-header"},[e.employee.id?e._t("header",(function(){return[e._v("\n                        "+e._s(e.getEmployeeName(e.employee))+"\n                        "),o("span",{staticClass:"float-right pointer",on:{click:function(t){return e.$emit("close")}}},[e._v("x")])]})):e._e()],2),e._v(" "),o("div",{staticClass:"modal-body"},[e._t("body",(function(){return[e.employee_term.id?o("div",{staticClass:"table-responsive"},[o("table",{staticClass:"table custom-show-table"},[o("tbody",[o("tr",[o("td",[e._v(e._s(e.trans("employee.date_of_joining")))]),e._v(" "),o("td",[e._v(e._s(e._f("moment")(e.employee_term.date_of_joining)))])]),e._v(" "),o("tr",[o("td",[e._v(e._s(e.trans("employee.joining_remarks")))]),e._v(" "),o("td",[e._v(e._s(e.employee_term.joining_remarks))])]),e._v(" "),e.employee_term.date_of_leaving?o("tr",[o("td",[e._v(e._s(e.trans("employee.date_of_leaving")))]),e._v(" "),o("td",[e._v(e._s(e._f("moment")(e.employee_term.date_of_leaving)))])]):e._e(),e._v(" "),e.employee_term.date_of_leaving?o("tr",[o("td",[e._v(e._s(e.trans("employee.leaving_remarks")))]),e._v(" "),o("td",[e._v(e._s(e.employee_term.leaving_remarks))])]):e._e()])])]):e._e(),e._v(" "),e.attachments.length?o("div",[o("ul",{staticClass:"m-t-10 upload-file-list"},e._l(e.attachments,(function(t){return o("li",{staticClass:"upload-file-list-item"},[o("a",{staticClass:"no-link-color",attrs:{href:"/employee/"+e.employee.uuid+"/term/"+e.employee_term.id+"/attachment/"+t.uuid+"/download?token="+e.authToken}},[o("i",{class:["file-icon","fas","fa-lg",t.file_info.icon]}),e._v(" "),o("span",{staticClass:"upload-file-list-item-size"},[e._v(e._s(t.file_info.size))]),e._v(" "+e._s(t.user_filename))])])})),0)]):e._e(),e._v(" "),o("hr"),e._v(" "),o("p",[o("i",{staticClass:"far fa-clock"}),e._v(" "),o("small",[e._v(e._s(e.trans("general.created_at"))+" "+e._s(e._f("momentDateTime")(e.employee_term.created_at)))]),e._v(" "),o("span",{staticClass:"pull-right"},[o("i",{staticClass:"far fa-clock"}),e._v(" "),o("small",[e._v(e._s(e.trans("general.updated_at"))+" "+e._s(e._f("momentDateTime")(e.employee_term.updated_at)))])])])]}))],2)])])])])}),[],!1,null,null,null).exports},props:{employee:{type:Object,default:function(){return{}}},readMode:{type:Boolean,default:!1}},data:function(){var e;return f(e={addModal:!1,showId:null,editId:null},"addModal",!1),f(e,"editModal",!1),f(e,"showModal",!1),e},mounted:function(){},methods:{editAction:function(e){this.editId=e.id,this.editModal=!0},showAction:function(e){this.showId=e.id,this.showModal=!0},confirmDelete:function(e){var t=this;return function(o){return t.deleteEmployeeTerm(e)}},deleteEmployeeTerm:function(e){var t=this,o=this.$loading.show();axios.delete("/api/employee/"+this.employee.uuid+"/term/"+e.id).then((function(e){toastr.success(e.message),t.$emit("completed"),o.hide()})).catch((function(e){o.hide(),helper.showErrorMsg(e)}))}},computed:{canAddTerm:function(){return this.employee.employee_terms.every((function(e){return null!=e.date_of_leaving}))}},filters:{momentDateTime:function(e){return helper.formatDateTime(e)},moment:function(e){return helper.formatDate(e)}}};const y=(0,n.Z)(h,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[e.canAddTerm&&!e.readMode?o("button",{staticClass:"btn btn-sm btn-info pull-right",on:{click:function(t){e.addModal=!0}}},[o("i",{staticClass:"fas fa-plus"}),e._v(" "+e._s(e.trans("employee.add_new_term")))]):e._e(),e._v(" "),e.employee.employee_terms?o("div",{staticClass:"table-responsive"},[o("table",{staticClass:"table table-sm"},[o("thead",[o("tr",[o("th",[e._v(e._s(e.trans("employee.date_of_joining")))]),e._v(" "),o("th",[e._v(e._s(e.trans("employee.date_of_leaving")))]),e._v(" "),o("th",{staticClass:"table-option"},[e._v(e._s(e.trans("general.action")))])])]),e._v(" "),o("tbody",e._l(e.employee.employee_terms,(function(t){return o("tr",[o("td",[e._v(e._s(e._f("moment")(t.date_of_joining)))]),e._v(" "),o("td",[t.date_of_leaving?o("span",[e._v(e._s(e._f("moment")(t.date_of_leaving)))]):o("span",[e._v("-")])]),e._v(" "),o("td",{staticClass:"table-option"},[o("div",{staticClass:"btn-group"},[e.readMode?e._e():[o("button",{directives:[{name:"confirm",rawName:"v-confirm",value:{ok:e.confirmDelete(t)},expression:"{ok: confirmDelete(employee_term)}"},{name:"tooltip",rawName:"v-tooltip",value:e.trans("employee.delete_term"),expression:"trans('employee.delete_term')"}],key:t.id,staticClass:"btn btn-danger btn-sm"},[o("i",{staticClass:"fas fa-trash"})]),e._v(" "),o("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.trans("employee.edit_term"),expression:"trans('employee.edit_term')"}],staticClass:"btn btn-info btn-sm",on:{click:function(o){return o.preventDefault(),e.editAction(t)}}},[o("i",{staticClass:"fas fa-edit"})])],e._v(" "),o("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.trans("employee.view_term"),expression:"trans('employee.view_term')"}],staticClass:"btn btn-success btn-sm",on:{click:function(o){return o.preventDefault(),e.showAction(t)}}},[o("i",{staticClass:"fas fa-arrow-circle-right"})])],2)])])})),0)])]):o("div",{staticClass:"font-80pc"},[e._v("\n            "+e._s(e.trans("general.no_result_found"))+"\n        ")]),e._v(" "),e.addModal&&e.canAddTerm&&!e.readMode?o("create-term",{attrs:{employee:e.employee},on:{close:function(t){e.addModal=!1},completed:function(t){return e.$emit("completed")}}}):e._e(),e._v(" "),e.editModal&&!e.readMode?o("edit-term",{attrs:{employee:e.employee,tid:e.editId},on:{close:function(t){e.editModal=!1},completed:function(t){return e.$emit("completed")}}}):e._e(),e._v(" "),e.showModal?o("show-term",{attrs:{employee:e.employee,tid:e.showId},on:{close:function(t){e.showModal=!1}}}):e._e()],1)}),[],!1,null,null,null).exports}}]);
//# sourceMappingURL=edit.js.map?id=33c8bca184890ebcc478
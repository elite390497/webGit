(self.webpackChunkInstiKit=self.webpackChunkInstiKit||[]).push([[7223],{97823:(t,e,s)=>{"use strict";s.d(e,{Z:()=>o});const a={props:{product:{required:!0},update:{required:!1,default:0}},computed:{checkSupportValidity:function(){return helper.today()<=this.product.date_of_support_expiry}},filters:{moment:function(t){return helper.formatDate(t)}}};const o=(0,s(51900).Z)(a,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"table-responsive"},[t.product.name?s("table",{staticClass:"table"},[s("tbody",[s("tr",[s("th",[t._v("Product Name")]),t._v(" "),s("td",[t._v(t._s(t.product.name))])]),t._v(" "),s("tr",[s("th",[t._v("Current Version")]),t._v(" "),s("td",[t._v(t._s(t.product.current_version))])]),t._v(" "),s("tr",[s("th",[t._v("Latest Version")]),t._v(" "),s("td",[t._v("\n                        "+t._s(t.product.latest_version)+"\n                        "),t.product.current_version==t.product.latest_version||t.update?t._e():s("span",[s("br"),s("router-link",{staticClass:"btn btn-info btn-sm",attrs:{to:"/update"}},[t._v("Update Available")])],1),t._v(" "),t.product.current_version==t.product.latest_version?s("span",{staticClass:"btn btn-success btn-sm"},[t._v("Up-to-date")]):t._e()])]),t._v(" "),s("tr",[s("th",[t._v("Latest Version Release")]),t._v(" "),s("td",[t._v(t._s(t._f("moment")(t.product.latest_version_release)))])]),t._v(" "),s("tr",[s("th",[t._v("Purchase Code")]),t._v(" "),s("td",[t._v(t._s(t.product.purchase_code))])]),t._v(" "),s("tr",[s("th",[t._v("Registered Email Id")]),t._v(" "),s("td",[t._v(t._s(t.product.email))])]),t._v(" "),s("tr",[s("th",[t._v("License Type")]),t._v(" "),s("td",[t._v(t._s(t.product.license_type))])]),t._v(" "),s("tr",[s("th",[t._v("Date of Purchase")]),t._v(" "),s("td",[t._v(t._s(t._f("moment")(t.product.date_of_purchase)))])]),t._v(" "),s("tr",[s("th",[t._v("Support Validity "),s("br"),t._v(" "),s("a",{staticClass:"btn btn-info btn-sm",attrs:{href:"http://codecanyon.net/item/x/"+t.product.envato_code+"?=ScriptMint",target:"_blank"}},[t._v("Renew Support")])]),t._v(" "),s("td",[t._v(t._s(t._f("moment")(t.product.date_of_support_expiry))+" "),s("br"),t._v(" "),t.checkSupportValidity?s("span",{staticClass:"label label-success"},[t._v("Supported")]):s("span",{staticClass:"label label-danger"},[t._v("Expired")])])]),t._v(" "),s("tr",[s("th",[t._v("Access Code")]),t._v(" "),s("td",[t._v(t._s(t.product.access_code))])]),t._v(" "),s("tr",[s("th",[t._v("Checksum")]),t._v(" "),s("td",[t._v(t._s(t.product.checksum))])])])]):t._e()])}),[],!1,null,null,null).exports},4786:(t,e,s)=>{"use strict";s.r(e),s.d(e,{default:()=>o});const a={components:{product:s(97823).Z},data:function(){return{update_tips:"",product:{},is_processing:0,is_downloading:0,is_updating:0,is_downloaded:0,updateForm:new Form({build:"",version:""})}},mounted:function(){helper.hasRole("admin")||this.$router.push("/"),this.getPreRequisite()},methods:{confirmUpdate:function(){var t=this;return function(e){return t.update()}},confirmDownload:function(t){var e=this;return function(s){return e.download(t)}},getPreRequisite:function(){var t=this,e=this.$loading.show();axios.get("/api/update").then((function(s){t.update_tips=s.update_tips,t.product=s.product,s.is_downloaded&&(t.is_downloaded=1,t.updateForm.build=t.product.next_release_build,t.updateForm.version=t.product.next_release_version),e.hide()})).catch((function(t){e.hide(),helper.showErrorMsg(t)}))},download:function(t){var e=this,s=this.$loading.show();this.is_processing=1,this.is_downloading=1,axios.post("/api/download").then((function(a){toastr.success(a.message),e.is_downloading=0,e.is_downloaded=1,e.updateForm.build=a.release.build,e.updateForm.version=a.release.version,t&&e.update(),s.hide()})).catch((function(t){helper.showErrorMsg(t),e.is_processing=0,e.is_downloading=0,s.hide()}))},update:function(){var t=this,e=this.$loading.show();this.is_updating=1,this.updateForm.post("/api/update").then((function(t){toastr.success(t.message),e.hide(),location.reload()})).catch((function(s){e.hide(),t.is_processing=0,t.is_updating=0,helper.showErrorMsg(s)}))},getFileSize:function(t){return helper.bytesToSize(t)}},filters:{moment:function(t){return helper.formatDate(t)}},computed:{checkSupportValidity:function(){return helper.today()<=this.product.date_of_support_expiry}}};const o=(0,s(51900).Z)(a,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"page-titles"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-12 col-sm-6"},[s("h3",{staticClass:"text-themecolor"},[t._v(t._s(t.trans("general.update")))])]),t._v(" "),s("div",{staticClass:"col-12 col-sm-6"},[s("div",{staticClass:"action-buttons pull-right"},[s("button",{staticClass:"btn btn-danger btn-sm",on:{click:function(e){return t.$router.push("/dashboard")}}},[s("i",{staticClass:"fas fa-home"}),t._v(" "),s("span",{staticClass:"d-none d-sm-inline"},[t._v(t._s(t.trans("general.home")))])])])])])]),t._v(" "),s("div",{staticClass:"container-fluid p-4"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-12 col-sm-6"},[s("div",{staticClass:"card"},[s("div",{staticClass:"card-body"},[s("h4",{staticClass:"card-title"},[t._v(t._s(t.trans("general.update")))]),t._v(" "),t.product.current_version==t.product.latest_version&&t.product.name?s("div",{staticClass:"alert alert-danger"},[t._v("No update available! Please check later.")]):s("div",[t.is_processing?[s("p",{staticClass:"text-center"},[t._v("Don't perform any action till we are performing update!")]),t._v(" "),t.is_downloading?s("p",{staticClass:"text-center"},[t._v("Update Size ("+t._s(t.getFileSize(t.product.next_release_size))+") - Downloading.....")]):t._e(),t._v(" "),t.is_updating?s("p",{staticClass:"text-center"},[t._v("Updating.....")]):t._e(),t._v(" "),t.is_downloaded?s("button",{directives:[{name:"confirm",rawName:"v-confirm",value:{ok:t.confirmUpdate()},expression:"{ok: confirmUpdate()}"}],key:"update",staticClass:"btn btn-info",attrs:{type:"button"}},[t._v("Update")]):t._e()]:[s("div",{domProps:{innerHTML:t._s(t.update_tips)}}),t._v(" "),t.product.name?s("div",{staticClass:"table-responsive"},[s("table",{staticClass:"table table-sm"},[s("tbody",[s("tr",[s("th",[t._v("Version Available for Upgrade")]),t._v(" "),s("td",[t._v(t._s(t.product.next_release_version))])]),t._v(" "),s("tr",[s("th",[t._v("Date of Release")]),t._v(" "),s("td",[t._v(t._s(t._f("moment")(t.product.next_release_date)))])]),t._v(" "),s("tr",[s("th",[t._v("Update Size")]),t._v(" "),s("td",[t._v(t._s(t.getFileSize(t.product.next_release_size)))])]),t._v(" "),s("tr",[s("th",{attrs:{colspan:"2"},domProps:{innerHTML:t._s(t.product.next_release_change_log)}})])])]),t._v(" "),t.is_downloaded?t._e():s("button",{directives:[{name:"confirm",rawName:"v-confirm",value:{ok:t.confirmDownload(0)},expression:"{ok: confirmDownload(0)}"}],key:"download",staticClass:"btn btn-info",attrs:{type:"button"}},[t._v("Download")]),t._v(" "),t.is_downloaded?s("button",{directives:[{name:"confirm",rawName:"v-confirm",value:{ok:t.confirmUpdate()},expression:"{ok: confirmUpdate()}"}],key:"direct-update",staticClass:"btn btn-info",attrs:{type:"button"}},[t._v("Update")]):t._e(),t._v(" "),t.is_downloaded?t._e():s("button",{directives:[{name:"confirm",rawName:"v-confirm",value:{ok:t.confirmDownload(1)},expression:"{ok: confirmDownload(1)}"}],key:"download-update",staticClass:"btn btn-success",attrs:{type:"button"}},[t._v("Download & Update")])]):t._e()]],2)])])]),t._v(" "),s("div",{staticClass:"col-12 col-sm-6"},[s("div",{staticClass:"card"},[s("div",{staticClass:"card-body"},[s("h4",{staticClass:"card-title"},[t._v(t._s(t.trans("general.product_information")))]),t._v(" "),s("product",{attrs:{product:t.product,update:"1"}})],1)])])])])])}),[],!1,null,null,null).exports}}]);
//# sourceMappingURL=update.js.map?id=8a1d022229c0ef416ccf
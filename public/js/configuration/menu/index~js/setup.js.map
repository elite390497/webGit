{"version":3,"file":"js/configuration/menu/index~js/setup.js?id=bf064cf53883ace74988","sources":["webpack:///form.vue","webpack:///./resources/js/views/configuration/menu/form.vue?dbe2","webpack:///./resources/js/views/configuration/menu/form.vue","webpack:///./resources/js/views/configuration/menu/form.vue?2357","webpack:///./resources/js/views/configuration/menu/form.vue?66d2"],"sourcesContent":["<template>\n    <div class=\"row\">\n        <div class=\"col-12\">\n            <div class=\"card\">\n                <div class=\"card-body p-4\">\n                    <form @submit.prevent=\"submit\" @keydown=\"configForm.errors.clear($event.target.name)\">\n                        <div class=\"row\">\n                            <div class=\"col-12 offset-md-1\">\n                                <template v-for=\"module in configForm.modules\">\n                                    <h4 class=\"card-title\">{{trans(module.translation)}}</h4>\n                                    <div class=\"form-group\">\n                                        <label class=\"custom-control custom-checkbox\">\n                                            <input type=\"checkbox\" class=\"custom-control-input\" value=\"1\" v-model=\"module.menu.visibility\" :name=\"getMenuName(module.menu.name)\" @change=\"updateSubMenu(module.menu)\">\n                                            <span class=\"custom-control-label\">{{trans(module.menu.translation)}}</span>\n                                        </label>\n                                    </div>\n                                    <div v-show=\"module.menu.visibility\" class=\"form-group\" style=\"padding-left: 40px;\" v-for=\"submenu in module.menu.submenu\">\n                                        <label class=\"custom-control custom-checkbox\">\n                                            <input type=\"checkbox\" class=\"custom-control-input\" value=\"1\" v-model=\"submenu.visibility\" :name=\"getMenuName(submenu.name)\">\n                                            <span class=\"custom-control-label\">{{trans(submenu.translation)}}</span>\n                                        </label>\n                                    </div>\n                                </template>\n                            </div>\n                        </div>\n                        <button type=\"submit\" v-if=\"!setupWizard\" class=\"btn btn-info waves-effect waves-light pull-right m-t-10\">{{trans('general.save')}}</button>\n                    </form>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\n\texport default {\n        props: {\n            setupWizard: {\n                default: false\n            },\n            configurations: {\n                required: false\n            }\n        },\n        components : { },\n        data() {\n            return {\n                configForm: new Form({\n                    config_type: 'menu',\n                    modules: []\n                },false),\n                menus: [],\n                help_topic: ''\n            }\n        },\n        mounted(){\n            if(!helper.hasPermission('access-configuration')){\n                helper.notAccessibleMsg();\n                this.$router.push('/home');\n            }\n\n            this.getPreRequisite();\n\n            if(!this.setupWizard)\n                this.getConfiguration();\n        },\n        methods: {\n            getPreRequisite(){\n                let loader = this.$loading.show();\n                axios.get('/api/configuration/variable?type=menu')\n                    .then(response => {\n                        this.configForm.modules = response.modules;\n                        \n                        this.menus = response.menus;\n                        this.configForm.modules.forEach(module => {\n                            if (response.menus.findIndex(o => o === module.menu.name) >= 0) {\n                                module.menu.visibility = true;\n                            } else {\n                                module.menu.visibility = false;\n                            }\n\n                            module.menu.submenu.forEach(sbmenu => {\n                                if (response.menus.findIndex(o => o === sbmenu.name) >= 0) {\n                                    sbmenu.visibility = true;\n                                } else {\n                                    sbmenu.visibility = false;\n                                }\n                            })\n                        });\n                        loader.hide();\n                    }).catch(error => {\n                        loader.hide();\n                        helper.showErrorMsg(error);\n                    });\n            },\n            getMenuName(name) {\n                return 'show_'+name+'_menu';\n            },\n            updateSubMenu(menu){\n                if (! menu.visibility) {\n                    menu.submenu.forEach(sbmenu => {\n                        sbmenu.visibility = false;\n                    });\n                } else {\n                    menu.submenu.forEach(sbmenu => {\n                        sbmenu.visibility = true;\n                    });\n                }\n            },\n            submit(){\n                let loader = this.$loading.show();\n                return this.configForm.post('/api/configuration')\n                    .then(response => {\n                        loader.hide();\n                        this.$store.dispatch('setConfig',{loaded: false});\n                        toastr.success(response.message);\n                        return true;\n                    }).catch(error => {\n                        loader.hide();\n                        helper.showErrorMsg(error);\n                        return false;\n                    });\n            }\n        }\n\t}\n</script>","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\"div\", { staticClass: \"row\" }, [\n    _c(\"div\", { staticClass: \"col-12\" }, [\n      _c(\"div\", { staticClass: \"card\" }, [\n        _c(\"div\", { staticClass: \"card-body p-4\" }, [\n          _c(\n            \"form\",\n            {\n              on: {\n                submit: function($event) {\n                  $event.preventDefault()\n                  return _vm.submit($event)\n                },\n                keydown: function($event) {\n                  return _vm.configForm.errors.clear($event.target.name)\n                }\n              }\n            },\n            [\n              _c(\"div\", { staticClass: \"row\" }, [\n                _c(\n                  \"div\",\n                  { staticClass: \"col-12 offset-md-1\" },\n                  [\n                    _vm._l(_vm.configForm.modules, function(module) {\n                      return [\n                        _c(\"h4\", { staticClass: \"card-title\" }, [\n                          _vm._v(_vm._s(_vm.trans(module.translation)))\n                        ]),\n                        _vm._v(\" \"),\n                        _c(\"div\", { staticClass: \"form-group\" }, [\n                          _c(\n                            \"label\",\n                            { staticClass: \"custom-control custom-checkbox\" },\n                            [\n                              _c(\"input\", {\n                                directives: [\n                                  {\n                                    name: \"model\",\n                                    rawName: \"v-model\",\n                                    value: module.menu.visibility,\n                                    expression: \"module.menu.visibility\"\n                                  }\n                                ],\n                                staticClass: \"custom-control-input\",\n                                attrs: {\n                                  type: \"checkbox\",\n                                  value: \"1\",\n                                  name: _vm.getMenuName(module.menu.name)\n                                },\n                                domProps: {\n                                  checked: Array.isArray(module.menu.visibility)\n                                    ? _vm._i(module.menu.visibility, \"1\") > -1\n                                    : module.menu.visibility\n                                },\n                                on: {\n                                  change: [\n                                    function($event) {\n                                      var $$a = module.menu.visibility,\n                                        $$el = $event.target,\n                                        $$c = $$el.checked ? true : false\n                                      if (Array.isArray($$a)) {\n                                        var $$v = \"1\",\n                                          $$i = _vm._i($$a, $$v)\n                                        if ($$el.checked) {\n                                          $$i < 0 &&\n                                            _vm.$set(\n                                              module.menu,\n                                              \"visibility\",\n                                              $$a.concat([$$v])\n                                            )\n                                        } else {\n                                          $$i > -1 &&\n                                            _vm.$set(\n                                              module.menu,\n                                              \"visibility\",\n                                              $$a\n                                                .slice(0, $$i)\n                                                .concat($$a.slice($$i + 1))\n                                            )\n                                        }\n                                      } else {\n                                        _vm.$set(module.menu, \"visibility\", $$c)\n                                      }\n                                    },\n                                    function($event) {\n                                      return _vm.updateSubMenu(module.menu)\n                                    }\n                                  ]\n                                }\n                              }),\n                              _vm._v(\" \"),\n                              _c(\n                                \"span\",\n                                { staticClass: \"custom-control-label\" },\n                                [\n                                  _vm._v(\n                                    _vm._s(_vm.trans(module.menu.translation))\n                                  )\n                                ]\n                              )\n                            ]\n                          )\n                        ]),\n                        _vm._v(\" \"),\n                        _vm._l(module.menu.submenu, function(submenu) {\n                          return _c(\n                            \"div\",\n                            {\n                              directives: [\n                                {\n                                  name: \"show\",\n                                  rawName: \"v-show\",\n                                  value: module.menu.visibility,\n                                  expression: \"module.menu.visibility\"\n                                }\n                              ],\n                              staticClass: \"form-group\",\n                              staticStyle: { \"padding-left\": \"40px\" }\n                            },\n                            [\n                              _c(\n                                \"label\",\n                                {\n                                  staticClass: \"custom-control custom-checkbox\"\n                                },\n                                [\n                                  _c(\"input\", {\n                                    directives: [\n                                      {\n                                        name: \"model\",\n                                        rawName: \"v-model\",\n                                        value: submenu.visibility,\n                                        expression: \"submenu.visibility\"\n                                      }\n                                    ],\n                                    staticClass: \"custom-control-input\",\n                                    attrs: {\n                                      type: \"checkbox\",\n                                      value: \"1\",\n                                      name: _vm.getMenuName(submenu.name)\n                                    },\n                                    domProps: {\n                                      checked: Array.isArray(submenu.visibility)\n                                        ? _vm._i(submenu.visibility, \"1\") > -1\n                                        : submenu.visibility\n                                    },\n                                    on: {\n                                      change: function($event) {\n                                        var $$a = submenu.visibility,\n                                          $$el = $event.target,\n                                          $$c = $$el.checked ? true : false\n                                        if (Array.isArray($$a)) {\n                                          var $$v = \"1\",\n                                            $$i = _vm._i($$a, $$v)\n                                          if ($$el.checked) {\n                                            $$i < 0 &&\n                                              _vm.$set(\n                                                submenu,\n                                                \"visibility\",\n                                                $$a.concat([$$v])\n                                              )\n                                          } else {\n                                            $$i > -1 &&\n                                              _vm.$set(\n                                                submenu,\n                                                \"visibility\",\n                                                $$a\n                                                  .slice(0, $$i)\n                                                  .concat($$a.slice($$i + 1))\n                                              )\n                                          }\n                                        } else {\n                                          _vm.$set(submenu, \"visibility\", $$c)\n                                        }\n                                      }\n                                    }\n                                  }),\n                                  _vm._v(\" \"),\n                                  _c(\n                                    \"span\",\n                                    { staticClass: \"custom-control-label\" },\n                                    [\n                                      _vm._v(\n                                        _vm._s(_vm.trans(submenu.translation))\n                                      )\n                                    ]\n                                  )\n                                ]\n                              )\n                            ]\n                          )\n                        })\n                      ]\n                    })\n                  ],\n                  2\n                )\n              ]),\n              _vm._v(\" \"),\n              !_vm.setupWizard\n                ? _c(\n                    \"button\",\n                    {\n                      staticClass:\n                        \"btn btn-info waves-effect waves-light pull-right m-t-10\",\n                      attrs: { type: \"submit\" }\n                    },\n                    [_vm._v(_vm._s(_vm.trans(\"general.save\")))]\n                  )\n                : _vm._e()\n            ]\n          )\n        ])\n      ])\n    ])\n  ])\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./form.vue?vue&type=template&id=4911de6c&\"\nimport script from \"./form.vue?vue&type=script&lang=js&\"\nexport * from \"./form.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"C:\\\\wamp64\\\\www\\\\elegas\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('4911de6c')) {\n      api.createRecord('4911de6c', component.options)\n    } else {\n      api.reload('4911de6c', component.options)\n    }\n    module.hot.accept(\"./form.vue?vue&type=template&id=4911de6c&\", function () {\n      api.rerender('4911de6c', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"resources/js/views/configuration/menu/form.vue\"\nexport default component.exports","import mod from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./form.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./form.vue?vue&type=script&lang=js&\"","export * from \"-!../../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./form.vue?vue&type=template&id=4911de6c&\""],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkCA;AACA;AACA;AACA;AADA;AAGA;AACA;AADA;AAJA;AAQA;AACA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AANA;AAQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AAAA;AACA;AAAA;AACA;AAEA;AAEA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AAEA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAxDA;AA/BA;;;;;;;;;;;;AClCA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AC/NA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAiBA;AACA;AACA;;;;;;;;;;;;ACtCA;AAAA;AAAA;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;A","sourceRoot":""}